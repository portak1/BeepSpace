(this.webpackJsonpbeepspace=this.webpackJsonpbeepspace||[]).push([[0],{100:function(e,t){},114:function(e,t,n){"use strict";n.r(t);var s,c=n(1),r=n.n(c),a=n(24),o=n.n(a),i=(n(71),n(14)),l=n(26),u=n.n(l),d=n(35),j=n(2),b=(n(73),n(7)),h=n.n(b),O=n(3),p=n(6),m=n(5),f=n(4),x=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e,s,c,r,a){var o;return Object(O.a)(this,n),(o=t.call(this)).username="",o.email="",o.number="",o.birth="",o.id=null,o.username=e,o.email=s,o.number=c,o.birth=r,o.id=a,o}return n}(r.a.Component),v="https://beepspaceapi.cekuj.net/BeepSpaceAPI/beepSpaceAPI/www/",w=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(O.a)(this,n),t.call(this)}return Object(p.a)(n,[{key:"jSONrequester",value:function(){var e=Object(d.a)(u.a.mark((function e(t,n){var s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,c){h.a.ajax({url:v+t+"?"+s.parameterForming(n),async:!0,success:function(t){e(t)},error:function(e){c(e)}})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parameterForming",value:function(e){var t="";if(e.length>0)for(var n=0;n<e.length;n++)t=n+1==e.length?t+e[n].parameterName+"="+e[n].parameterContent:t+e[n].parameterName+"="+e[n].parameterContent+"&";return t}}]),n}(r.a.Component),g=w,U=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e,s){var c;return Object(O.a)(this,n),(c=t.call(this)).parameterName="",c.parameterContent="",c.parameterContent=s,c.parameterName=e,c}return n}(r.a.Component),I=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).requestHandler=new g,e}return Object(p.a)(n,[{key:"logIn",value:function(e,t,n,s,c){this.user=new x(e,t,n,s,c),window.sessionStorage.setItem("user",JSON.stringify(this.user)),window.location.replace("/")}},{key:"isLoggedIn",value:function(){return null!=window.sessionStorage.getItem("user")}},{key:"logOut",value:function(e){this.requestHandler.jSONrequester("User",[new U("type","SET-OFFLINE"),new U("id",this.getUser().id)]),e.emit("disconnectUser",{user:this.getUser().username}),window.sessionStorage.setItem("user",null),window.location.replace("/login")}},{key:"getUser",value:function(){if(this.isLoggedIn())return JSON.parse(window.sessionStorage.getItem("user"));window.location.replace("/login")}}]),n}(r.a.Component),k=(n(74),n(0));var y=function(e){var t=new I,n=Object(c.useState)(!1),r=Object(j.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(c.useRef)(a),h=Object(c.useRef)(u);b.current=a,h.current=u,Object(c.useEffect)((function(){e.socket.on("pickCall",(function(t){t.name==e.reciever&&o(!0)})),e.socket.on("leaveCall",(function(t){t.name==e.reciever&&o(!1)})),e.socket.on("mute",(function(t){t.name==e.reciever&&d(!0)})),e.socket.on("unmute",(function(t){t.name==e.reciever&&d(!1)}))}),[]),1==e.online?"ball online":0==e.online?"ball offline":"ball paused";var O=Object(c.useState)(e.online?"ball online":"ball offline"),p=Object(j.a)(O,2),m=p[0],f=p[1];return s=e.reciever,e.chatHandler,e.socket.on("clientOnline",(function(t){t.user==e.reciever&&f("ball online")})),e.socket.on("clientOffline",(function(t){t.user==e.reciever&&f("ball offline")})),e.socket.on("clientPause",(function(t){t.user==e.reciever&&f("ball paused")})),Object(k.jsx)("li",{children:Object(k.jsx)("a",{className:"userButton",onClick:function(){return t.getUser().username==e.reciever?null:e.handleInputUser(e.reciever)},children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-2",children:Object(k.jsx)("span",{class:m})}),Object(k.jsx)("div",{className:"col-6",children:s}),Object(k.jsx)("div",{className:"col-4",children:b.current&&h.current?Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{class:"fas fa-satellite-dish"}),Object(k.jsx)("i",{class:"fas fa-microphone-slash","aria-hidden":"true"})]}):b.current?Object(k.jsx)("i",{class:"fas fa-satellite-dish"}):h.current?Object(k.jsx)("i",{class:"fas fa-microphone-slash","aria-hidden":"true"}):void 0})]})})})},S=new I;function C(e){Object(c.useEffect)((function(){e.socket.on("joinedChannel",(function(e){u(e)})),e.socket.on("disconnectedChanel",(function(e){a(o.current.filter((function(t){return t.props.reciever!=e.user})))}));var n=!1;return t.jSONrequester("Groupchat",[new U("type","ACTIVE-USERS"),new U("id",e.groupchatID)]).then((function(e){n||a(l(e))})),function(){n=!0}}),[]);var t=new g,n=Object(c.useState)([]),s=Object(j.a)(n,2),r=s[0],a=s[1],o=Object(c.useRef)(r);o.current=r;var l=function(t){return t.map((function(t,n){return Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:S.getUser().username,online:!0,socket:e.socket,activeUser:e.activeUser,reciever:t.name},n)}))},u=function(t){t.channelID==e.name&&(o.current.length?o.current.some((function(e){return e.props.reciever==t.user}))||a((function(n){return[].concat(Object(i.a)(n),[Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:S.getUser().username,online:!0,socket:e.socket,activeUser:e.activeUser,reciever:t.user})])})):a((function(n){return[].concat(Object(i.a)(n),[Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:S.getUser().username,online:!0,socket:e.socket,reciever:t.user,activeUser:e.activeUser})])})))};return Object(k.jsxs)("div",{class:"wholeSidebarGroupchat",children:[Object(k.jsx)("li",{children:Object(k.jsx)("a",{href:"#",style:{color:e.color},onClick:function(){e.handleInputGroupchat(e.groupchatID,e.name)},children:Object(k.jsx)("h4",{children:e.name})})}),Object(k.jsx)("div",{class:"ml-3",children:r})]})}var N=n(58),E=n.p+"static/media/JoinChannel.c211769d.mp3",q=new I;function D(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),s=n[0],r=n[1],a=Object(N.a)(E),o=Object(j.a)(a,1)[0];return Object(k.jsx)("div",{class:"row",children:Object(k.jsx)("div",{class:"col-12",children:Object(k.jsxs)("button",{onClick:function(){if(!s)return e.socket.emit("joinSpace",{user:q.getUser().username,connectTo:e.user}),o(),void r(!0);e.socket.emit("leaveSpace",{user:q.getUser().username,connectTo:e.user}),r(!1)},class:"btn topBoxButton w-100",children:[Object(k.jsx)("i",{class:"fas fa-satellite-dish"}),Object(k.jsx)("h3",{children:e.user})]})})})}var M=new I,B=new g("http://localhost/Github/BeepSpace/BeepSpaceAPI/beepSpaceAPI/www/"),P=!1,R=!1,L={username:"",rendered:!1};function G(){h()("#callButtons").hasClass("d-none")?h()("#callButtons").removeClass("d-none"):h()("#callButtons").addClass("d-none")}var A=function(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)([]),o=Object(j.a)(a,2),l=o[0],u=o[1],d=Object(c.useState)([]),b=Object(j.a)(d,2),h=b[0],O=b[1];Object(c.useEffect)((function(){B.jSONrequester("User",[new U("type","ALL")]).then((function(e){m(e).then((function(e){u(e)}))})),B.jSONrequester("Groupchat",[new U("type","ALL"),new U("user",M.getUser().username)]).then((function(e){O(f(e))})),e.socket.on("kick",(function(){M.logOut(e.socket)})),e.socket.on("groupchatCreated",(function(e){e.id==M.getUser().id&&(R=!R,B.jSONrequester("Groupchat",[new U("type","ALL"),new U("user",M.getUser().username)]).then((function(){O(f(e))})))})),e.socket.on("addLocalChannel",(function(e){R=!R,B.jSONrequester("Groupchat",[new U("type","ALL"),new U("user",M.getUser().username)]).then((function(e){O(f(e))}))})),e.socket.on("removeFriend",(function(e){e.reciever==M.getUser().username&&p(e.origin)})),e.socket.on("addLocalUser",(function(t){if(t.origin==M.getUser().username)B.jSONrequester("User",[new U("type","ONE"),new U("username",t.reciever)]).then((function(t){n=t,L.username!=n.name&&(L.username=n.name,L.rendered=!1),L.rendered||(u((function(t){return[].concat(Object(i.a)(t),[Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:M.getUser().username,online:n.online,socket:e.socket,reciever:n.name})])})),L.rendered=!0)}));else if(t.reciever==M.getUser().username){var n;B.jSONrequester("User",[new U("type","ONE"),new U("username",t.origin)]).then((function(t){n=t,L.username!=n.name&&(L.username=n.name,L.rendered=!1),L.rendered||(u((function(t){return[].concat(Object(i.a)(t),[Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:M.getUser().username,online:n.online,socket:e.socket,activeUser:e.activeUser,reciever:n.name})])})),L.rendered=!0)}))}}))}),[]);var p=function(e){u(l.filter((function(t){if(void 0!=t)return t.props.reciever!=e})))},m=function(t){if(!P)return P=!0,Promise.all(t.map((function(t,n){var s;return B.jSONrequester("User",[new U("type","IS-FRIENDS"),new U("id",M.getUser().id),new U("id2",t.id)]).then((function(c){if(s=c,t.name!=M.getUser().username&&s.state)return Object(k.jsx)(y,{handleInputUser:e.handleInputUser,user:M.getUser().username,online:t.online,socket:e.socket,activeUser:e.activeUser,reciever:t.name},n)}))}))).then((function(e){return e}))},f=function(t){if(!R)return R=!0,t.map((function(t,n){return Object(k.jsx)(C,{handleInputUser:e.handleInputUser,color:t.color,handleInputGroupchat:e.handleInputGroupchat,activeUser:e.activeUser,socket:e.socket,groupchatID:t.id,name:t.name},n)}))},x=function(){M.logOut(e.socket)};return Object(k.jsx)("aside",{id:"sidebar",class:"nano",children:Object(k.jsxs)("div",{class:"nano-content",children:[Object(k.jsx)("div",{class:"row text-center mx-auto",children:Object(k.jsx)("div",{class:"col crossIconCol",children:Object(k.jsx)("i",{class:"fas fa-times crossIcon"})})}),Object(k.jsx)("div",{class:"row text-center mx-auto",children:Object(k.jsxs)("div",{class:"col mt-3 userBox pb-3 text-center",children:[Object(k.jsx)("h1",{children:M.getUser().username}),Object(k.jsxs)("div",{class:"row",children:[Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{class:"btn topBoxButton",onClick:e.setModalShow,children:Object(k.jsx)("i",{class:"fas fa-search"})})}),Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{class:"btn topBoxButton",onClick:G,children:Object(k.jsx)("i",{class:"fab fa-connectdevelop"})})}),Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{onClick:x,class:"btn topBoxButton",children:Object(k.jsx)("i",{class:"fas fa-sign-out-alt"})})})]}),Object(k.jsx)("div",{class:"row",children:Object(k.jsx)("div",{class:"col-12",children:Object(k.jsx)("button",{class:"btn topBoxButton w-100",onClick:e.setNModalShow,children:Object(k.jsx)("i",{class:"fas fa-mail-bulk"})})})}),Object(k.jsxs)("div",{id:"callButtons",class:"row d-none",children:[Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{onClick:function(){if(!s)return e.socket.emit("muteSelf",{user:M.getUser().username}),void r(!0);e.socket.emit("unmuteSelf",{user:M.getUser().username}),r(!1)},class:"btn topBoxButton",children:Object(k.jsx)("i",{class:"fas fa-microphone-slash"})})}),Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{class:"btn topBoxButton",children:Object(k.jsx)("i",{class:"fas fa-headphones-alt"})})}),Object(k.jsx)("div",{class:"col",children:Object(k.jsx)("button",{onClick:x,class:"btn topBoxButton",children:Object(k.jsx)("i",{class:"fas fa-sign-out-alt"})})})]})]})}),Object(k.jsx)("div",{class:"row text-center mx-auto",children:Object(k.jsx)("div",{class:"col mt-3 pb-3 text-center",children:Object(k.jsx)(D,{socket:e.socket,user:e.activeUser})})}),Object(k.jsx)("menu",{class:"menu-segment",children:Object(k.jsxs)("ul",{class:"chat",children:[Object(k.jsxs)("li",{class:"title",children:["Prostory",Object(k.jsx)("span",{class:"icon",children:Object(k.jsx)("a",{onClick:e.setCModalShow,class:"addGroup",children:"+"})})]}),h]})}),Object(k.jsx)("div",{class:"separator"}),Object(k.jsx)("div",{class:"menu-segment",children:Object(k.jsxs)("ul",{class:"chat",children:[Object(k.jsxs)("li",{class:"title",children:["Seznam p\u0159\xe1tel ",Object(k.jsx)("span",{class:"icon"})]}),l]})}),Object(k.jsx)("div",{class:"bottom-padding"})]})})},T=n(59),F=n.n(T);var H=function(e){Object(c.useEffect)((function(){F.a.init()}),[]);var t="message",n="";return e.last&&(t+=" last"),n=e.owner?"mine messages":"yours messages",Object(k.jsx)("div",{"data-aos":"fade-down",class:n,children:Object(k.jsx)("div",{class:t,children:e.content})})},z=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(O.a)(this,n),(s=t.call(this)).socket=e,s.requestHandler=new g,s.userController=new I,s}return Object(p.a)(n,[{key:"returnAllMesages",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){for(var s=[],c=0;c<t.length;c++)c!=t.length-1?t[c+1].mine!=t[c].mine?s.push(Object(k.jsx)(H,{content:t[c].content,owner:t[c].mine,last:!0})):s.push(Object(k.jsx)(H,{content:t[c].content,owner:t[c].mine,last:!1})):s.push(Object(k.jsx)(H,{content:t[c].content,owner:t[c].mine,last:!0}));e(s)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"pushNewMessage",value:function(e,t,n){var s=n;return null==s&&(s=[]),s.push(Object(k.jsx)(H,{content:e,owner:t,last:!0})),s}},{key:"sendMessage",value:function(e,t){var n=this;this.requestHandler.jSONrequester("Message",[new U("create",1),new U("user",this.userController.getUser().username),new U("reciever",t),new U("content",e),new U("date",new Date)]),this.requestHandler.jSONrequester("Notifications",[new U("type","CREATE"),new U("user",this.userController.getUser().username),new U("reciever",t),new U("date",new Date),new U("content",e),new U("addNotification",0),new U("groupchatID",0)]).then((function(){n.socket.emit("notification",{reciever:t,origin:n.userController.getUser().username,type:"message",content:e,date:new Date,groupchatID:null})}))}},{key:"sendGroupchatMessage",value:function(e,t){console.log(this.requestHandler.jSONrequester("Message",[new U("create",1),new U("user",this.userController.getUser().username),new U("reciever",0),new U("content",e),new U("date",new Date),new U("isChatMessage",1),new U("chatId",t)]))}}]),n}(r.a.Component),V=z,J=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.call(this)).chat=[],e.openInviteModal=function(){return e.props.openInviteModal()},e.removeFriend=function(){var t=e.requestHandler.jSONrequester("User",[new U("type","ONE"),new U("username",e.props.chatUser)]);e.requestHandler.jSONrequester("User",[new U("type","REMOVE-FRIEND"),new U("id",e.userController.getUser().id),new U("id2",t.id)]),e.props.socket.emit("unfriend",{user:e.userController.getUser().username,reciever:e.props.chatUser}),window.location.reload(!1)},e.userController=new I,e.requestHandler=new g,e.messageController=new V,e}return Object(p.a)(n,[{key:"render",value:function(){var e="",t="",n="";return this.props.chatUser&&(this.props.isChatGroupchat?(t=Object(k.jsx)("div",{class:"col-md-2 col-4",children:Object(k.jsx)("button",{class:"btn topBoxButton buttonCustom",children:Object(k.jsx)("i",{class:"fas fa-users-slash"})})}),n=Object(k.jsx)("div",{class:"col-md-2 col-4",children:Object(k.jsx)("button",{onClick:this.openInviteModal,class:"btn topBoxButton buttonCustom",children:Object(k.jsx)("i",{class:"fas fa-user-plus"})})})):e=Object(k.jsx)("div",{class:"col-md-2 col-4",children:Object(k.jsx)("button",{onClick:this.removeFriend,class:"btn topBoxButton buttonCustom",children:Object(k.jsx)("i",{class:"fas fa-users-slash"})})})),Object(k.jsxs)("div",{class:"h-75",children:[Object(k.jsxs)("div",{class:"nameBox row mx-auto ",children:[this.props.isChatGroupchat?Object(k.jsx)("div",{class:"col-md-8 col-4 text-left",children:Object(k.jsx)("h3",{class:"buttonCustom jmeno",children:this.props.chatUser})}):Object(k.jsx)("div",{class:"col-md-10 col-8 text-left",children:Object(k.jsx)("h3",{class:"buttonCustom jmeno",children:this.props.chatUser})}),e,t,n]}),Object(k.jsx)("div",{id:"messageBox",class:" messagesBox mx-auto h-100",children:this.props.messages})]})}},{key:"componentDidUpdate",value:function(){this.settingChat()}},{key:"settingChat",value:function(){h()((function(){h()(".messagesBox").scrollTop(10239120381093813e7)}))}}]),n}(c.Component),W=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(O.a)(this,n),(s=t.call(this,e)).input=r.a.createRef(),s}return Object(p.a)(n,[{key:"sendMessage",value:function(){""!=this.input.current.value&&(this.props.isChatMessage?(this.props.sendGroupchatMessage(this.input.current.value),this.input.current.value=""):(this.props.sendMessageFunction(this.input.current.value),this.input.current.value=""))}},{key:"sendMessageIfEnter",value:function(e){13===e.keyCode&&this.sendMessage(e)}},{key:"render",value:function(){var e=this.sendMessage.bind(this),t=this.sendMessageIfEnter.bind(this);return Object(k.jsxs)("div",{class:"row sendMessageRow mx-auto h-20",children:[Object(k.jsx)("input",{type:"text",placeholder:"zadejte zpr\xe1vu zde...",ref:this.input,onKeyDown:t,class:" send-message col-10 mx-auto h-20 "}),Object(k.jsx)("button",{class:"btn btn-odeslat col-2 h-20",onClick:e,children:Object(k.jsx)("i",{class:"far fa-paper-plane"})})]})}}]),n}(c.Component),K=n(66),_=n(12);function Y(e){var t=new g,n=new I,s=null;console.log(e.friendsState);return s=e.friendsState?Object(k.jsx)("div",{class:"tlacitko col-4",children:Object(k.jsx)("button",{class:"btn btnOdebrat btn-gray",children:"P\u0159\xe1tel\xe9"})}):Object(k.jsx)("div",{class:" tlacitko col-4",children:Object(k.jsx)("button",{onClick:function(){t.jSONrequester("Notifications",[new U("type","CREATE"),new U("user",n.getUser().username),new U("reciever",e.name),new U("date",new Date),new U("content","nov\xe1 \u017e\xe1dost o p\u0159\xe1telstv\xed od "+n.getUser().username),new U("addNotification",1)]),e.socket.emit("notification",{reciever:e.name,origin:n.getUser().id,type:"add",content:"nov\xe1 \u017e\xe1dost o p\u0159\xe1telstv\xed od "+n.getUser().username,date:new Date,groupchatID:null})},class:"btn btnPridat btn-success",children:"P\u0159idat"})}),Object(k.jsxs)("div",{class:"row w-100 userLine",children:[Object(k.jsx)("div",{class:"col-8",children:e.name}),s]})}var X=[];function Q(e){var t=new g,n=new I,s=Object(c.useState)([]),a=Object(j.a)(s,2),o=a[0],i=a[1],l=r.a.createRef();Object(c.useEffect)((function(){t.jSONrequester("User",[new U("type","ALL")]).then((function(s){X=s,Promise.all(X.map((function(s,c){return t.jSONrequester("User",[new U("type","IS-FRIENDS"),new U("id",n.getUser().id),new U("id2",s.id)]).then((function(t){if(s.name!=n.getUser().username)return Object(k.jsx)(Y,{name:s.name,socket:e.socket,friendsState:t.state,userId:s.id},c)}))}))).then((function(e){i(e),X=e}))}))}),[]);var u=function(){i(X.filter((function(e,t){if(null===e||void 0===e?void 0:e.props.name.toLowerCase().includes(l.current.value.toLowerCase()))return e})))};return Object(k.jsxs)(_.a,{contentClassName:"modalClasses",show:e.state,children:[Object(k.jsx)(_.a.Header,{children:Object(k.jsxs)("div",{class:"row w-100",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("h2",{children:"p\u0159idat p\u0159\xe1tele"})}),Object(k.jsx)("div",{class:"col-2"}),Object(k.jsx)("div",{class:"col-1 text-right ",children:Object(k.jsx)("button",{class:"btn modalCloseButton",onClick:e.closeModal,children:Object(k.jsx)("i",{class:"far fa-times-circle"})})})]})}),Object(k.jsxs)(_.a.Body,{children:[Object(k.jsxs)("div",{class:"row searchUser w-100 mb-5",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("input",{type:"search",class:"form-control",ref:l,onChange:function(){i(X.filter((function(e,t){if(null===e||void 0===e?void 0:e.props.name.toLowerCase().includes(l.current.value.toLowerCase()))return e})))},onKeyDown:function(e){13===e.keyCode&&u()},placeholder:"Hledat u\u017eivatele","aria-label":"Search"})}),Object(k.jsx)("div",{class:"col-4",children:Object(k.jsx)("button",{type:"submit",class:"form-control ",onClick:u,value:"","aria-label":"Search",children:Object(k.jsx)("i",{class:"fas fa-search"})})})]}),Object(k.jsx)("div",{class:"separator"}),o]})]})}function Z(e){var t=new g,n=new I,s=Object(c.useState)({}),r=Object(j.a)(s,2),a=r[0],o=r[1];Object(c.useEffect)((function(){e.groupchatID&&t.jSONrequester("Groupchat",[new U("type","GET-GROUPCHAT"),new U("id",e.groupchatID)]).then((function(e){o(e)}))}),[e]);var i=function(){t.jSONrequester("Notifications",[new U("type","REMOVEONE"),new U("id",e.notId)]),e.removeNotification(e.notId)};return"add"==e.type?Object(k.jsxs)("div",{class:"row w-100 userLine",children:[Object(k.jsx)("div",{class:"col-2",children:Object(k.jsx)("i",{class:"fas fa-user-plus"})}),Object(k.jsx)("div",{class:"col-4",children:e.user}),Object(k.jsx)("div",{class:" tlacitko col-3",children:Object(k.jsx)("button",{onClick:function(){t.jSONrequester("Notifications",[new U("type","CONFIRM"),new U("user",e.user),new U("reciever",n.getUser().username),new U("id",e.notId)]),e.socket.emit("addUser",{localUser:n.getUser().username,username:e.user}),e.removeNotification(e.notId)},class:"btn w-100 btnPridat btnPrijmout btn-success",children:Object(k.jsx)("i",{class:"fas fa-check"})})}),Object(k.jsx)("div",{class:"tlacitko col-3",children:Object(k.jsx)("button",{onClick:i,class:"btn w-100 btnOdebrat btnOdmitnout btn-gray",children:Object(k.jsx)("i",{class:"fas fa-times"})})})]}):"message"==e.type?Object(k.jsxs)("div",{class:"row w-100 userLine",children:[Object(k.jsx)("div",{class:"col-2",children:Object(k.jsx)("i",{class:"fas fa-envelope"})}),Object(k.jsx)("div",{class:"col-4",children:e.user}),Object(k.jsx)("div",{class:"col-6 notificationText",children:e.content})]}):"invite"==e.type?Object(k.jsxs)("div",{class:"row w-100 userLine",children:[Object(k.jsx)("div",{class:"col-2",children:Object(k.jsx)("i",{class:"fas fa-user-friends"})}),Object(k.jsx)("div",{class:"col-4",children:null===a||void 0===a?void 0:a.name}),Object(k.jsx)("div",{class:" tlacitko col-3",children:Object(k.jsx)("button",{onClick:function(){t.jSONrequester("Groupchat",[new U("type","ACCEPT-INVITE"),new U("id",e.groupchatID),new U("user",n.getUser().username)]).then((function(){t.jSONrequester("Notifications",[new U("type","REMOVEONE"),new U("id",e.notId)]).then((function(){e.socket.emit("addChannel",{localUser:n.getUser().username,channel:e.groupchatID}),e.removeNotification(e.notId)}))}))},class:"btn w-100 btnPridat btnPrijmout btn-success",children:Object(k.jsx)("i",{class:"fas fa-check"})})}),Object(k.jsx)("div",{class:"tlacitko col-3",children:Object(k.jsx)("button",{onClick:i,class:"btn w-100 btnOdebrat btnOdmitnout btn-gray",children:Object(k.jsx)("i",{class:"fas fa-times"})})})]}):void 0}function $(e){var t=new g,n=new I,s=Object(c.useState)(),r=Object(j.a)(s,2),a=r[0],o=r[1],i=Object(c.useRef)(a);i.current=a;var l=function(e){var t;o(null===(t=i.current)||void 0===t?void 0:t.filter((function(t){return t.props.notId!=e})))};return Object(c.useEffect)((function(){t.jSONrequester("Notifications",[new U("type","GETNOTIF"),new U("user",n.getUser().username)]).then((function(t){o((function(n){return t.map((function(t,n){return"message"==t.type?Object(k.jsx)(Z,{socket:e.socket,type:"message",removeNotification:l,notId:t.id,user:t.user,content:t.content},n):"invite"==t.type?Object(k.jsx)(Z,{socket:e.socket,type:"invite",groupchatID:t.groupchatID,removeNotification:l,notId:t.id,user:t.user,content:t.content},n):Object(k.jsx)(Z,{socket:e.socket,type:"add",removeNotification:l,notId:t.id,addNotification:!0,user:t.user},n)}))}))})),e.socket.on("newNotification",(function(s){s.reciever==n.getUser().username&&t.jSONrequester("Notifications",[new U("type","GETNOTIF"),new U("user",n.getUser().username)]).then((function(t){o(t.map((function(t,n){return"message"==t.type?Object(k.jsx)(Z,{socket:e.socket,type:"message",removeNotification:l,notId:t.id,user:t.user,content:t.content},n):"invite"==t.type?Object(k.jsx)(Z,{socket:e.socket,type:"invite",groupchatID:t.groupchatID,removeNotification:l,notId:t.id,user:t.user,content:t.content},n):Object(k.jsx)(Z,{socket:e.socket,type:"add",removeNotification:l,notId:t.id,addNotification:!0,user:t.user},n)})))}))})),e.socket.on("removeNotifications",(function(e){!function(e){var n;o(null===(n=i.current)||void 0===n?void 0:n.filter((function(n){return"message"==n.props.type&&n.props.user==e&&(console.log(n.props),t.jSONrequester("Notifications",[new U("type","REMOVEONE"),new U("id",n.props.notId)])),"message"!=n.props.type&&n.props.user!=e})))}(e.user)}))}),[]),Object(k.jsxs)(_.a,{contentClassName:"modalClasses",show:e.state,children:[Object(k.jsx)(_.a.Header,{children:Object(k.jsxs)("div",{class:"row w-100",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("h2",{children:"notifikace"})}),Object(k.jsx)("div",{class:"col-2"}),Object(k.jsx)("div",{class:"col-1 text-right ",children:Object(k.jsx)("button",{class:"btn modalCloseButton",onClick:e.closeModal,children:Object(k.jsx)("i",{class:"far fa-times-circle"})})})]})}),Object(k.jsx)(_.a.Body,{children:i.current})]})}function ee(e){var t=new g,n=new I,s=null;return s=e.groupState?Object(k.jsx)("div",{class:"tlacitko col-4",children:Object(k.jsx)("button",{class:"btn btnOdebrat btn-gray",children:"Ji\u017e v chatu"})}):Object(k.jsx)("div",{class:" tlacitko col-4",children:Object(k.jsx)("button",{onClick:function(){t.jSONrequester("Notifications",[new U("type","INVITE"),new U("user",n.getUser().username),new U("reciever",e.name),new U("date",new Date),new U("content","new invite request from "+n.getUser().username),new U("addNotification",1),new U("groupchatID",e.groupchatID)]).then((function(t){"sent"==t.state&&e.socket.emit("notification",{reciever:e.name,origin:n.getUser().id,type:"invite",content:"nov\xe1 \u017e\xe1dost o p\u0159\xe1telstv\xed od "+n.getUser().username,date:new Date,groupchatID:e.groupchatID})}))},class:"btn btnPridat btn-success",children:"Pozvat"})}),Object(k.jsxs)("div",{class:"row w-100 userLine",children:[Object(k.jsx)("div",{class:"col-8",children:e.name}),s]})}var te=[];function ne(e){var t=new g,n=new I,s=Object(c.useState)(),a=Object(j.a)(s,2),o=a[0],i=a[1],l=r.a.createRef();Object(c.useEffect)((function(){e.groupchatID&&t.jSONrequester("User",[new U("type","ALL")]).then((function(s){te=s,Promise.all(te.map((function(s,c){return t.jSONrequester("Groupchat",[new U("type","IN-CHAT"),new U("id",e.groupchatID),new U("user",s.name)]).then((function(t){if(s.name!=n.getUser().username)return Object(k.jsx)(ee,{name:s.name,socket:e.socket,groupState:t,groupchatID:e.groupchatID,userId:s.id})}))}))).then((function(e){i(e),te=e}))}))}),[e.groupchatID]);var u=function(){i(te.filter((function(e,t){if(null===e||void 0===e?void 0:e.props.name.toLowerCase().includes(l.current.value.toLowerCase()))return e})))};return Object(k.jsxs)(_.a,{contentClassName:"modalClasses",show:e.state,children:[Object(k.jsx)(_.a.Header,{children:Object(k.jsxs)("div",{class:"row w-100",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("h2",{children:"Pozvat p\u0159\xe1tele do prostoru"})}),Object(k.jsx)("div",{class:"col-2"}),Object(k.jsx)("div",{class:"col-1 text-right ",children:Object(k.jsx)("button",{class:"btn modalCloseButton",onClick:e.closeModal,children:Object(k.jsx)("i",{class:"far fa-times-circle"})})})]})}),Object(k.jsxs)(_.a.Body,{children:[Object(k.jsxs)("div",{class:"row searchUser w-100 mb-5",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("input",{type:"search",class:"form-control",ref:l,onChange:function(){i(te.filter((function(e,t){if(null===e||void 0===e?void 0:e.props.name.toLowerCase().includes(l.current.value.toLowerCase()))return e})))},onKeyDown:function(e){13===e.keyCode&&u()},placeholder:"Hledat u\u017eivatele","aria-label":"Search"})}),Object(k.jsx)("div",{class:"col-4",children:Object(k.jsx)("button",{type:"submit",class:"form-control ",onClick:u,value:"","aria-label":"Search",children:Object(k.jsx)("i",{class:"fas fa-search"})})})]}),Object(k.jsx)("div",{class:"separator"}),o]})]})}function se(e){var t=new g,n=new I,s=Object(c.useState)(),a=Object(j.a)(s,2),o=a[0],i=(a[1],r.a.createRef()),l=r.a.createRef();return Object(k.jsxs)(_.a,{contentClassName:"modalClasses",show:e.state,children:[Object(k.jsx)(_.a.Header,{children:Object(k.jsxs)("div",{class:"row w-100",children:[Object(k.jsx)("div",{class:"col-8",children:Object(k.jsx)("h2",{children:"Vytvo\u0159te prostor"})}),Object(k.jsx)("div",{class:"col-2"}),Object(k.jsx)("div",{class:"col-1 text-right ",children:Object(k.jsx)("button",{class:"btn modalCloseButton",onClick:e.closeModal,children:Object(k.jsx)("i",{class:"far fa-times-circle"})})})]})}),Object(k.jsxs)(_.a.Body,{children:[Object(k.jsxs)("div",{class:"row searchUser w-100 mb-5",children:[Object(k.jsx)("div",{class:"col-12 mt-5",children:Object(k.jsx)("input",{type:"text",class:"form-control",ref:i,placeholder:"jm\xe9no","aria-label":"jm\xe9no",required:!0})}),Object(k.jsx)("div",{class:"col-12 mt-3",children:Object(k.jsx)("input",{type:"color",class:"form-control",ref:l,placeholder:"barva","aria-label":"barva",required:!0})}),Object(k.jsx)("div",{class:"col-3 mt-5 mx-auto",children:Object(k.jsx)("button",{type:"submit",class:"form-control ",onClick:function(){if(""!=i.current.value&&""!=l.current.value){var s=l.current.value.replace("#","");t.jSONrequester("Groupchat",[new U("type","CREATE"),new U("name",i.current.value),new U("color",s),new U("id",n.getUser().id)]).then((function(t){e.socket.emit("createGroupchat",{name:i.current.value,color:s,id:n.getUser().id,groupchatID:t.id,users:t.users,connectedUsers:t.connectedUsers}),i.current.value="",l.current.value=""}))}},value:"","aria-label":"Vytvo\u0159it",children:Object(k.jsx)("i",{class:"far fa-plus-square"})})})]}),Object(k.jsx)("div",{class:"separator"}),o]})]})}var ce=new I;function re(e){return Object(k.jsx)("div",{className:"text-center userListUser",children:Object(k.jsx)("a",{onClick:function(){return ce.getUser().username==e.user?null:e.handleInputUser(e.user)},children:Object(k.jsx)("h5",{children:e.user})})})}new I;var ae=new g("http://localhost/Github/BeepSpace/BeepSpaceAPI/beepSpaceAPI/www/");function oe(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){var t;ae.jSONrequester("Groupchat",[new U("type","GET-GROUPCHAT"),new U("id",e.groupchatID)]).then((function(e){t=Array.from(e.users.split(","))})).then((function(){Promise.all(t.map((function(t,n){return ae.jSONrequester("User",[new U("type","ONE-BY-ID"),new U("id",t)]).then((function(t){return Object(k.jsx)(re,{handleInputUser:e.handleInputUser,user:t.name},n)}))}))).then((function(e){r(e)}))}))}),[e.groupchatID]),Object(c.useEffect)((function(){e.socket.on("addUserToGroupchat",(function(t){console.log("sff"),t.channelID==e.groupchatID&&r((function(n){return[].concat(Object(i.a)(n),[Object(k.jsx)(re,{handleInputUser:e.handleInputUser,user:t.user})])}))}))}),[]),Object(k.jsxs)("div",{className:"userList",children:[Object(k.jsx)("div",{className:"nadpis text-center",children:Object(k.jsx)("h2",{children:"Seznam u\u017eivatel\u016f"})}),s]})}var ie,le,ue,de=new g,je=new I,be=null,he="",Oe=0,pe=1,me=[];function fe(){je.isLoggedIn()||"/login"==window.location.pathname||"/register"==window.location.pathname||window.location.replace("/login")}je.isLoggedIn()&&(le=Object(K.a)("https://beepspace-app.ey.r.appspot.com/")),h()(document).ready((function(e){var t={};t.showSidebar=function(){e("body").addClass("show-sidebar")},t.hideSidebar=function(){e("body").removeClass("show-sidebar")},e(".trigger-toggle-sidebar").on("click",(function(){e("body").hasClass("show-sidebar")?t.hideSidebar():t.showSidebar()})),e(".crossIcon").on("click",(function(){t.hideSidebar()})),e("body").hasClass("show-sidebar")&&e("#main").on("click",(function(){t.hideSidebar()}))}));var xe=function(){fe(),be=new V(le),le.on("connect",(function(){je.isLoggedIn()&&(le.emit("userJoin",{user:je.getUser().username,id:je.getUser().id}),de.jSONrequester("User",[new U("type","SET-ONLINE"),new U("id",je.getUser().id)]))})),le.on("disconnect",(function(){de.jSONrequester("User",[new U("type","SET-OFFLINE"),new U("id",je.getUser().id)])}));var e=Object(c.useState)(),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(j.a)(r,2),o=a[0],l=a[1],b=Object(c.useState)(!1),h=Object(j.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(!1),f=Object(j.a)(m,2),x=f[0],v=f[1],w=Object(c.useState)(!1),g=Object(j.a)(w,2),I=g[0],y=g[1],S=Object(c.useState)(!1),C=Object(j.a)(S,2),N=C[0],E=C[1],q=Object(c.useState)(!1),D=Object(j.a)(q,2),M=D[0],B=D[1],P=Object(c.useState)(!1),R=Object(j.a)(P,2),L=R[0],G=R[1],T=Object(c.useState)(!1),F=Object(j.a)(T,2),z=F[0],K=F[1],_=Object(c.useRef)(z),Y=Object(c.useRef)(L);Y.current=L,_.current=z,Object(c.useEffect)((function(){setInterval(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.emit("heartbeat");case 1:case"end":return e.stop()}}),e)}))),249),console.log("init"),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){var t=new MediaRecorder(e);t.onstart=function(e){me=[]},t.ondataavailable=function(e){me.push(e.data)},t.onstop=function(e){var t=new Blob(me,{type:"audio/ogg; codecs=opus"});le.emit("radio",t)},t.start(),setInterval((function(){Y.current&&!_.current?("inactive"==t.state&&(t.start(),setTimeout((function(){}),500)),t.stop(),t.start()):"recording"==t.state&&t.stop()}),500)})),le.on("voice",(function(e){if(Y.current){ue=new Blob([e],{type:"audio/ogg; codecs=opus"});var t=document.createElement("audio");t.src=window.URL.createObjectURL(ue),t.play()}})),le.on("pickCall",(function(e){e.name==je.getUser().username&&(ue=null,G(!0))})),le.on("leaveCall",(function(e){e.name==je.getUser().username&&(ue=null,G(!1))})),le.on("mute",(function(e){e.name==je.getUser().username&&(ue=null,K(!0))})),le.on("unmute",(function(e){e.name==je.getUser().username&&(ue=null,K(!1))}))}),[]);var X=function(e){B(!1),s(e),de.jSONrequester("Groupchat",[new U("type","REMOVE-ACTIVE-USER"),new U("name",je.getUser().username)]),le.emit("disconnectChanel",{channelID:ie,user:je.getUser().username}),ie=null,le.emit("chatOpen",{user:e})},Z=function(){p(!O)},ee=function(){v(!x)},te=function(){E(!N)},ce=function(){y(!I)};window.onfocus=function(){le.emit("userJoin",{user:je.getUser().username,id:je.getUser().id}),de.jSONrequester("User",[new U("type","SET-ONLINE"),new U("id",je.getUser().id)])},window.onblur=function(){de.jSONrequester("User",[new U("type","SET-PAUSE"),new U("id",je.getUser().id)]),le.emit("userPause",{user:je.getUser().username})};var re,ae,xe=function(e){le.emit("message2",{origin:je.getUser().username,reciever:n,content:e,index:Oe}),Oe++,l((function(t){return[].concat(Object(i.a)(t),[Object(k.jsx)(H,{content:e,owner:!0,last:!0})])})),be.sendMessage(e,n)};he!=n&&n&&(he=n,M?(re=je.getUser().username,ae=ie,de.jSONrequester("Message",[new U("user",re),new U("chatId",ae),new U("isChatMessage",1)]).then((function(e){return be.returnAllMesages(e).then((function(e){return e}))}))).then((function(e){l(e)})):(ie=null,function(e,t){return de.jSONrequester("Message",[new U("user",e),new U("reciever",t)]).then((function(e){return be.returnAllMesages(e)}))}(je.getUser().username,n).then((function(e){l(e)}))));var ve=function(e){l((function(t){return[].concat(Object(i.a)(t),[Object(k.jsx)(H,{content:e,owner:!0,last:!0})])})),be.sendGroupchatMessage(e,n)};return le.on("message2",(function(e){e.index!=pe&&e.origin==n&&e.reciever==je.getUser().username&&null!=n&&null!=o&&(l((function(t){return[].concat(Object(i.a)(t),[Object(k.jsx)(H,{content:e.message,owner:!1,last:!0})])})),pe=e.index)})),Object(k.jsxs)("div",{class:"mainContainer",children:[fe(),Object(k.jsxs)("div",{id:"main",class:"text-center",children:[Object(k.jsxs)("a",{class:"sidebar-toggle-btn trigger-toggle-sidebar",children:[Object(k.jsx)("span",{class:"line"}),Object(k.jsx)("span",{class:"line"}),Object(k.jsx)("span",{class:"line"}),Object(k.jsx)("span",{class:"line line-angle1"}),Object(k.jsx)("span",{class:"line line-angle2"})]}),null!=ie?Object(k.jsxs)("div",{class:"h-100 row",children:[Object(k.jsxs)("div",{class:"col col-md-9 h-100",children:[Object(k.jsx)(J,{messages:o,chatUser:n,openInviteModal:ce,isChatGroupchat:M}),Object(k.jsx)(W,{chatUser:n,sendMessageFunction:xe,isChatMessage:M,sendGroupchatMessage:ve})]}),Object(k.jsx)("div",{class:" col-md-3 h-100",children:Object(k.jsx)(oe,{handleInputUser:X,socket:le,groupchatID:ie})})]}):Object(k.jsxs)("div",{class:"h-100",children:[Object(k.jsx)(J,{messages:o,socket:le,chatUser:n,handleInputUser:X,openInviteModal:ce,isChatGroupchat:M}),Object(k.jsx)(W,{chatUser:n,sendMessageFunction:xe,isChatMessage:M,sendGroupchatMessage:ve})]})]}),Object(k.jsx)(A,{setModalShow:Z,setNModalShow:ee,setCModalShow:te,socket:le,handleInputUser:X,handleInputGroupchat:function(e,t){B(!0),de.jSONrequester("Groupchat",[new U("type","REMOVE-ACTIVE-USER"),new U("name",je.getUser().username)]).then((function(){ie=e,s(t),de.jSONrequester("Groupchat",[new U("type","ADD-ACTIVE-USER"),new U("id",e),new U("name",je.getUser().username)]).then((function(){le.emit("disconnectChanel",{channelID:t,user:je.getUser().username}),le.emit("joinChanel",{channelID:t,user:je.getUser().username})}))}))},isGroupchat:M,activeUser:n}),Object(k.jsx)(Q,{closeModal:Z,socket:le,state:O}),Object(k.jsx)($,{socket:le,closeModal:ee,state:x}),Object(k.jsx)(ne,{groupchatID:ie,socket:le,closeModal:ce,state:I}),Object(k.jsx)(se,{closeModal:te,state:N,socket:le})]})};var ve=function(e){var t={background:"url("+e.backgroundImage+")"},n={backgroundColor:e.filterColor};return Object(k.jsxs)("div",{className:"background",children:[Object(k.jsx)("div",{class:"image",style:t}),Object(k.jsx)("div",{class:"filter",style:n})]})},we=["title","titleId"];function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ge.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,s,c=function(e,t){if(null==e)return{};var n,s,c={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ie(e,t){var n=e.title,s=e.titleId,r=Ue(e,we);return c.createElement("svg",ge({xmlns:"http://www.w3.org/2000/svg",width:"670.000000pt",height:"373.000000pt",viewBox:"0 0 670.000000 373.000000",preserveAspectRatio:"xMidYMid meet",ref:t,"aria-labelledby":s},r),n?c.createElement("title",{id:s},n):null,c.createElement("g",{transform:"translate(0.000000,373.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none"},c.createElement("path",{style:{fill:"#FFFFF"},d:"M3090 3515 c-179 -38 -226 -53 -344 -111 -110 -54 -176 -104 -266 -201 -67 -72 -160 -210 -160 -237 0 -15 -21 -26 -51 -26 -25 0 -92 -35 -157 -83 -34 -24 -69 -63 -96 -105 -80 -127 -76 -85 -76 -830 l0 -662 -23 -38 c-66 -106 -107 -283 -107 -460 0 -90 3 -110 25 -157 80 -168 398 -306 840 -364 326 -43 324 -43 716 -39 231 3 416 9 464 17 44 6 118 16 165 22 88 11 189 29 300 56 292 70 483 178 545 308 22 47 25 67 25 157 0 177 -41 354 -107 460 l-23 38 0 665 c0 585 -2 670 -16 707 -19 51 -47 111 -54 118 -3 3 -16 20 -29 38 -39 55 -185 152 -230 152 -32 0 -51 11 -51 30 0 11 -4 21 -9 24 -5 3 -19 25 -31 48 -46 90 -151 207 -256 286 -111 83 -298 155 -483 186 -118 20 -417 20 -511 1z m447 -115 c159 -21 315 -69 393 -121 8 -5 23 -12 33 -15 9 -4 17 -10 17 -14 0 -5 9 -12 21 -15 58 -19 205 -189 264 -304 120 -238 149 -586 74 -891 -19 -78 -77 -222 -116 -289 -46 -79 -154 -196 -203 -221 -68 -35 -125 -110 -195 -257 -36 -76 -71 -148 -77 -161 l-11 -22 -401 2 -401 3 -27 55 c-15 30 -53 108 -84 172 -58 122 -80 149 -204 258 -102 89 -165 187 -222 345 -91 250 -103 558 -33 820 84 315 304 534 623 621 147 40 387 55 549 34z m-1307 -690 c-80 -365 -15 -786 163 -1057 26 -39 54 -76 62 -83 22 -18 18 -30 -9 -30 -54 0 -257 -79 -344 -134 l-43 -27 3 598 c3 661 1 638 69 727 29 38 107 101 115 93 2 -1 -6 -41 -16 -87z m2312 26 c21 -21 45 -51 55 -69 41 -80 43 -109 43 -710 l0 -577 -42 27 c-87 54 -290 133 -344 133 -27 0 -31 12 -9 30 30 25 110 157 147 245 121 277 146 673 61 968 -4 17 -3 17 24 4 15 -8 45 -31 65 -51z m-1904 -1338 c17 -18 62 -98 100 -178 l69 -145 -38 -37 c-21 -20 -42 -54 -48 -75 -7 -23 -11 -153 -11 -322 l0 -283 -32 6 c-18 4 -71 13 -117 21 -296 52 -537 149 -597 240 -27 41 -32 87 -23 221 9 150 34 239 94 328 86 130 335 249 531 255 33 1 46 -5 72 -31z m1610 17 c156 -37 338 -133 396 -209 74 -98 104 -194 115 -374 9 -131 2 -202 -19 -202 -6 0 -10 -7 -10 -15 0 -8 -4 -15 -8 -15 -5 0 -17 -8 -28 -18 -75 -70 -311 -154 -555 -197 -46 -8 -99 -17 -116 -21 l-33 -6 0 283 c0 162 -4 300 -10 321 -10 36 -45 79 -87 108 l-21 15 43 94 c55 119 107 200 148 229 38 26 93 29 185 7z m-425 -457 c46 -24 46 -29 47 -325 l0 -283 -22 -4 c-47 -10 -359 -26 -498 -26 -139 0 -451 16 -497 26 l-23 4 0 283 c1 294 1 300 45 325 29 16 917 17 948 0z"}),c.createElement("path",{style:{fill:"#0ff8fc98"},d:"M3120 3015 c-8 -2 -58 -9 -110 -15 -149 -19 -287 -62 -365 -113 -53 -35 -125 -111 -160 -167 -18 -30 -46 -98 -61 -150 -26 -88 -28 -109 -28 -275 -1 -195 7 -245 65 -388 93 -232 294 -420 529 -497 122 -39 199 -50 360 -50 161 0 239 11 360 51 248 81 451 277 539 521 52 143 55 165 55 358 0 173 -2 191 -28 280 -52 178 -150 294 -306 360 -147 62 -279 81 -585 85 -137 2 -257 2 -265 0z m477 -286 c22 -43 -6 -89 -56 -89 -73 0 -82 99 -11 122 24 8 54 -7 67 -33z m-815 -390 c82 -36 132 -34 206 7 63 35 124 33 169 -6 18 -16 44 -30 56 -30 13 0 34 -13 49 -30 39 -45 91 -45 197 0 39 17 82 30 96 30 14 0 58 14 97 30 88 37 136 39 176 5 53 -44 120 -41 161 9 22 27 92 20 137 -12 63 -46 70 -67 55 -171 -49 -348 -252 -577 -591 -668 -92 -24 -387 -24 -480 0 -340 90 -543 320 -591 670 -14 103 -7 123 55 169 54 39 115 38 208 -3z"})))}var ke=c.forwardRef(Ie),ye=(n.p,n(41)),Se=n.n(ye),Ce=new g,Ne=new I;function Ee(e){e.preventDefault(),Ce.jSONrequester("User",[new U("username",h()("#loginUsername").val()),new U("password",Object(ye.sha256)(h()("#loginPassword").val()))]).then((function(e){"WRONG"!=e.state?Ne.logIn(e.name,e.email,e.number,e.birth,e.id):h()("#wrongCredetials").removeClass("fade")}))}var qe=function(){return Object(k.jsxs)("div",{className:"loginApp",children:[Object(k.jsx)(ve,{filterColor:"#000000",backgroundImage:"https://images.hdqwalls.com/download/astronaut-waving-hand-minimal-4k-du-1280x800.jpg"}),Object(k.jsx)("div",{class:"global-container justify-content-center mx-auto",children:Object(k.jsx)("div",{class:"card card-login login-form",children:Object(k.jsxs)("div",{class:"card-body",children:[Object(k.jsx)("a",{class:"navbar-brand-login text-center",href:"",children:Object(k.jsx)("div",{class:"mx-auto beepLogo",children:Object(k.jsx)(ke,{})})}),Object(k.jsx)("div",{class:"text-center",children:Object(k.jsx)("h1",{children:Object(k.jsxs)("div",{class:"row mx-auto text-center",children:[Object(k.jsx)("div",{className:"beep ml-auto",children:"Beep"}),Object(k.jsx)("div",{className:"mr-auto",children:"Space"})]})})}),Object(k.jsxs)("div",{class:"card-text",children:[Object(k.jsx)("div",{class:"alert alert-danger alert-dismissible fade",id:"wrongCredetials",role:"alert",children:"\u0160patn\xe9 jm\xe9no nebo heslo."}),Object(k.jsxs)("form",{method:"post",onSubmit:Ee,children:[Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputEmail1",children:"Jm\xe9no"}),Object(k.jsx)("input",{type:"text",class:"form-control form-control-sm",name:"SESSION_USER",id:"loginUsername","aria-describedby":"emailHelp",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputPassword1",children:"Heslo"}),Object(k.jsx)("input",{type:"password",class:"form-control form-control-sm",name:"PASSWORD",id:"loginPassword",required:!0})]}),Object(k.jsxs)("div",{className:"text-center",children:["Nem\xe1te \xfa\u010det? Registrujte se",Object(k.jsxs)("a",{class:"text-center",href:"../register",children:[" ","zde"]})]}),Object(k.jsx)("button",{type:"submit",class:"btn btn-edit btn-block",children:"P\u0159ihl\xe1sit"})]})]})]})})})]})},De=new g;function Me(e){e.preventDefault(),h()("#exampleInputPassword1").val()==h()("#exampleInputPassword2").val()?De.jSONrequester("User",[new U("username",h()("#exampleInputUsername1").val()),new U("password",Se()(h()("#exampleInputPassword1").val())),new U("email",h()("#exampleInputEmail1").val()),new U("number",h()("#exampleInputNumber1").val()),new U("birth",h()("#exampleInputDate").val()),new U("type","REGISTRATION")]).then((function(e){var t;"USER_EXIST"!=e.state?(t="/login",window.location.replace(t)):h()("#userExists").removeClass("fade")})):h()("#wrongPass").removeClass("fade")}var Be=function(){return Object(k.jsxs)("div",{className:"loginApp",children:[Object(k.jsx)(ve,{filterColor:"#000000",backgroundImage:"https://images.hdqwalls.com/download/astronaut-waving-hand-minimal-4k-du-1280x800.jpg"}),Object(k.jsx)("div",{class:"global-container justify-content-center mx-auto",children:Object(k.jsx)("div",{class:"card card-login login-form",children:Object(k.jsxs)("div",{class:"card-body",children:[Object(k.jsx)("a",{class:"navbar-brand-login text-center",href:"",children:Object(k.jsx)("div",{class:"mx-auto beepLogo",children:Object(k.jsx)(ke,{})})}),Object(k.jsxs)("div",{class:"text-center",children:[Object(k.jsx)("h1",{children:Object(k.jsxs)("div",{class:"row mx-auto text-center",children:[Object(k.jsx)("div",{className:"beep ml-auto",children:"Beep"}),Object(k.jsx)("div",{className:"mr-auto",children:"Space"})]})}),Object(k.jsx)("h3",{children:Object(k.jsxs)("div",{class:"row mx-auto mt-5 text-center",children:[Object(k.jsx)("div",{className:"ml-auto mr-2",children:"Registrovat "}),Object(k.jsx)("div",{className:"mr-auto",children:"se"})]})})]}),Object(k.jsxs)("div",{class:"card-text",children:[Object(k.jsx)("div",{class:"alert alert-danger alert-dismissible fade",id:"userExists",role:"alert",children:"U\u017eivatel Ji\u017e existuje"}),Object(k.jsx)("div",{class:"alert alert-danger alert-dismissible fade",id:"emptyCredentials",role:"alert",children:"Vynechan\xe9 jm\xe9no nebo heslo."}),Object(k.jsx)("div",{class:"alert alert-danger alert-dismissible fade",id:"wrongPass",role:"alert",children:"Hesla se neshododuj\xed"}),Object(k.jsxs)("form",{method:"post",onSubmit:Me,children:[Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputUsername1",children:"U\u017eivatelsk\xe9 jm\xe9no"}),Object(k.jsx)("input",{type:"text",class:"form-control form-control-sm",name:"USER",id:"exampleInputUsername1",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputEmail1",children:"E-mail"}),Object(k.jsx)("input",{type:"text",class:"form-control form-control-sm",name:"EMAIL",id:"exampleInputEmail1","aria-describedby":"emailHelp",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputPassword1",children:"Heslo"}),Object(k.jsx)("input",{type:"password",class:"form-control form-control-sm",name:"PASSWORD",id:"exampleInputPassword1",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputPassword2",children:"Potvrdit heslo"}),Object(k.jsx)("input",{type:"password",class:"form-control form-control-sm",name:"CONFIRM_PASSWORD",id:"exampleInputPassword2",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputNumber1",children:"Telefonn\xed \u010d\xedslo"}),Object(k.jsx)("input",{type:"number",class:"form-control form-control-sm",name:"USER",id:"exampleInputNumber1",required:!0})]}),Object(k.jsxs)("div",{class:"form-group",children:[Object(k.jsx)("label",{for:"exampleInputDate",children:"Datum narozen\xed"}),Object(k.jsx)("input",{type:"date",class:"form-control form-control-sm",name:"DATUM",id:"exampleInputDate",required:!0})]}),Object(k.jsxs)("div",{className:"text-center",children:["Ji\u017e m\xe1te \xfa\u010det? P\u0159ihla\u0161te se",Object(k.jsxs)("a",{class:"text-center",href:"../login",children:[" ","zde"]})]}),Object(k.jsx)("button",{type:"submit",class:"btn btn-edit btn-block",children:"Registrovat"})]})]})]})})})]})},Pe=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,117)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))},Re=n(63),Le=n(8);o.a.render(Object(k.jsx)(Re.a,{children:Object(k.jsxs)(Le.c,{children:[Object(k.jsx)(Le.a,{exact:!0,path:"/",component:xe}),Object(k.jsx)(Le.a,{exact:!0,path:"/login",component:qe}),Object(k.jsx)(Le.a,{exact:!0,path:"/register",component:Be})]})}),document.getElementById("root")),Pe()},71:function(e,t,n){},73:function(e,t,n){},98:function(e,t){}},[[114,1,2]]]);
//# sourceMappingURL=main.5c0f220d.chunk.js.map