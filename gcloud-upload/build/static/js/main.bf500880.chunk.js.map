{"version":3,"sources":["components/smallComponents/sidebarUser.js","Entity/UserEntity.js","enviroments/enviroment.js","Handlers/RequestHandler.js","Handlers/ParameterHandler.js","Controllers/UserController.js","components/smallComponents/SidebarGroupchat.js","storage/sounds/JoinChannel.mp3","components/SpaceCall.jsx","components/sidebar.js","components/smallComponents/chatComponents/message.js","Controllers/MessageController.js","Handlers/ChatHandler.js","components/smallComponents/chatComponents/TextInput.js","components/smallComponents/modalUser.js","components/smallComponents/chatComponents/modal.js","components/smallComponents/Notifiaction.js","components/NotificationsModal.js","components/smallComponents/InviteUser.js","components/smallComponents/modalInviteGroupchat.js","components/smallComponents/modalGroupchat.js","components/UserListUser.jsx","components/UserList.jsx","App.js","components/Filter.js","storage/images/astroLogo.svg","Login.js","Register.js","reportWebVitals.js","index.js"],"names":["reciever","User","username","email","number","birth","id","React","Component","enviroment","RequestHandler","requestType","requestParameter","a","Promise","resolve","reject","$","ajax","url","parameterForming","async","success","data","error","parametersArray","returnString","length","i","parameterName","parameterContent","ParameterHandler","UserController","requestHandler","this","user","window","sessionStorage","setItem","JSON","stringify","location","replace","getItem","socket","jSONrequester","getUser","emit","isLoggedIn","parse","SidebarUser","props","userController","useState","onCall","setOnCall","muted","setMuted","onCallRef","useRef","mutedRef","current","useEffect","on","name","online","setOnline","chatHandler","className","onClick","handleInputUser","class","SidebarGroupchat","joinChannel","setActiveUsers","activeUsersRef","filter","item","cancel","groupchatID","then","generateArray","activeUsers","arr","map","activeUser","channelID","some","href","style","color","handleInputGroupchat","SpaceCall","connectedState","setConnectedState","useSound","joinSound","playJoin","connectTo","rendered","groupChatRendered","renderUser","showCallButtons","hasClass","removeClass","addClass","Sidebar","mute","setMute","userArray","setUserArray","groupchatArray","setGroupchatArray","generateGroupChatArray","logOut","removeUser","origin","newUser","undefined","all","friendsState","promiseData","state","setModalShow","setNModalShow","setCModalShow","Message","AOS","init","classes","owner","last","content","MessageController","messages","arrOfMesages","mine","push","array","Date","type","date","chatId","console","log","ChatHandler","chat","openInviteModal","removeFriend","chatUser","reload","messageController","userRmvButton","userLeaveGroup","userInviteButton","isChatGroupchat","settingChat","scrollTop","TextInput","input","createRef","value","isChatMessage","sendGroupchatMessage","sendMessageFunction","e","keyCode","sendMessage","bind","sendMessageIfEnter","placeholder","ref","onKeyDown","ModalUser","params","button","allUsers","FriendModal","users","setUsers","mapData","userId","search","toLowerCase","includes","Modal","contentClassName","show","Header","closeModal","Body","onChange","Notification","groupchat","setGroupchat","decline","notId","removeNotification","localUser","channel","NotificationsModal","notifications","setNotifications","notificationsRef","key","resultData","addNotification","removeNotifacionForUser","InviteUser","groupState","ModalInviteGroupchat","ModalGroupchat","required","currentColor","connectedUsers","UserListUser","UserList","listbarUsers","setListbarUsers","Array","from","split","groupchatId","soundBlob","userHolder","index","indexForRecieve","soundChunks","checkIfReady","pathname","io","document","ready","cols","showSidebar","hideSidebar","App","setChatUser","setMessages","modalShow","NModalShow","inviteModalShow","setInviteModalShow","createModalShow","setCreateModalShow","isGroupchat","setIsGroupchat","isConnected","setIsConnected","chatUserRef","isConnectedRef","setInterval","navigator","mediaDevices","getUserMedia","audio","mediaRecorder","MediaRecorder","onstart","ondataavailable","onstop","blob","Blob","start","setTimeout","stop","arrayBuffer","Audio","URL","createObjectURL","play","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","theme","inputValue","setModalState","setAnotherModal","setCreateModalState","setInviteModalState","onfocus","onblur","returnAllMesages","getMessages","message","newestOnTop","rtl","pauseOnFocusLoss","groupchatName","Filter","pararms","imageStyle","background","backgroundImage","filterStyle","backgroundColor","filterColor","_excluded","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAstroLogo","_ref","svgRef","title","titleId","xmlns","width","height","viewBox","preserveAspectRatio","transform","fill","stroke","d","ForwardRef","handleLogin","event","preventDefault","val","sha256","logIn","Login","role","method","onSubmit","for","handleThis","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","exact","path","component","getElementById"],"mappings":"uIAKIA,E,qICqBWC,E,kDAdX,WAAYC,EAASC,EAAMC,EAAOC,EAAOC,GAAI,IAAD,8BACxC,gBARJJ,SAAW,GAOiC,EAN5CC,MAAQ,GAMoC,EAL5CC,OAAS,GAKmC,EAJ5CC,MAAQ,GAIoC,EAH5CC,GAAK,KAKD,EAAKJ,SAAWA,EAChB,EAAKC,MAAQA,EACb,EAAKC,OAASA,EACd,EAAKC,MAAQA,EACb,EAAKC,GAAKA,EAN8B,E,UAT7BC,IAAMC,WCHZC,EACG,gECGVC,E,kDACJ,aAAe,wC,wFAIf,WAAoBC,EAAaC,GAAjC,oBAAAC,EAAA,+EACS,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,IAAEC,KAAK,CACLC,IACEV,EACAE,EACA,IACA,EAAKS,iBAAiBR,GACxBS,OAAO,EAEPC,QAAS,SAACC,GACRR,EAAQQ,IAEVC,MAAO,SAACD,GACNP,EAAOO,UAdf,2C,uFAoBA,SAAiBE,GACf,IAAIC,EAAe,GACnB,GAAID,EAAgBE,OAAS,EAC3B,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAgBE,OAAQC,IAExCF,EADEE,EAAI,GAAKH,EAAgBE,OAEzBD,EACAD,EAAgBG,GAAGC,cACnB,IACAJ,EAAgBG,GAAGE,iBAGnBJ,EACAD,EAAgBG,GAAGC,cACnB,IACAJ,EAAgBG,GAAGE,iBACnB,IAKR,OAAOJ,M,GA9CkBnB,IAAMC,WAkDpBE,ICrCAqB,E,kDAXX,WAAYF,EAAcC,GAAkB,IAAD,8BACvC,gBAJJD,cAAgB,GAG2B,EAF3CC,iBAAmB,GAIf,EAAKA,iBAAmBA,EACxB,EAAKD,cAAgBA,EAHkB,E,UAJftB,IAAMC,WCyDvBwB,E,kDApDb,aAAe,IAAD,8BACZ,gBACKC,eAAiB,IAAIvB,EAFd,E,yCAOd,SAAMR,EAAUC,EAAOC,EAAQC,EAAOC,GACpC4B,KAAKC,KAAO,IAAIlC,EAAKC,EAAUC,EAAOC,EAAQC,EAAOC,GACrD8B,OAAOC,eAAeC,QAAQ,OAAQC,KAAKC,UAAUN,KAAKC,OAC1DC,OAAOK,SAASC,QAAQ,O,wBAM1B,WACE,OAA6C,MAAzCN,OAAOC,eAAeM,QAAQ,U,oBAQpC,SAAOC,GACLV,KAAKD,eAAeY,cAAc,OAAQ,CACxC,IAAId,EAAiB,OAAQ,eAC7B,IAAIA,EAAiB,KAAMG,KAAKY,UAAUxC,MAE5CsC,EAAOG,KAAK,iBAAkB,CAC5BZ,KAAMD,KAAKY,UAAU5C,WAEvBkC,OAAOC,eAAeC,QAAQ,OAAQ,MACtCF,OAAOK,SAASC,QAAQ,Y,qBAK1B,WACE,GAAIR,KAAKc,aACP,OAAOT,KAAKU,MAAMb,OAAOC,eAAeM,QAAQ,SAEhDP,OAAOK,SAASC,QAAQ,c,GA9CDnC,IAAMC,W,eL6GpB0C,MAzGf,SAAqBC,GACnB,IAAMC,EAAiB,IAAIpB,EAC3B,EAA4BqB,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0BF,oBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAEIC,EAAYC,iBAAOL,GACnBM,EAAWD,iBAAOH,GAEtBE,EAAUG,QAAUP,EACpBM,EAASC,QAAUL,EAEnBM,qBAAU,WACRX,EAAMP,OAAOmB,GAAG,YAAY,SAACxC,GACvBA,EAAKyC,MAAQb,EAAMnD,UACrBuD,GAAU,MAGdJ,EAAMP,OAAOmB,GAAG,aAAa,SAACxC,GACxBA,EAAKyC,MAAQb,EAAMnD,UACrBuD,GAAU,MAIdJ,EAAMP,OAAOmB,GAAG,QAAQ,SAACxC,GACnBA,EAAKyC,MAAQb,EAAMnD,UACrByD,GAAS,MAGbN,EAAMP,OAAOmB,GAAG,UAAU,SAACxC,GACrBA,EAAKyC,MAAQb,EAAMnD,UACrByD,GAAS,QAGZ,IAEiB,GAAhBN,EAAMc,OACG,cACc,GAAhBd,EAAMc,OACJ,eAEA,cAEb,MAA4BZ,mBAC1BF,EAAMc,OAAS,cAAgB,gBADjC,mBAAOA,EAAP,KAAeC,EAAf,KAgDA,OA7CAlE,EAAWmD,EAAMnD,SACHmD,EAAMgB,YAMpBhB,EAAMP,OAAOmB,GAAG,gBAAgB,SAAUxC,GACpCA,EAAKY,MAAQgB,EAAMnD,UACrBkE,EAAU,kBAIdf,EAAMP,OAAOmB,GAAG,iBAAiB,SAAUxC,GACrCA,EAAKY,MAAQgB,EAAMnD,UACrBkE,EAAU,mBAIdf,EAAMP,OAAOmB,GAAG,eAAe,SAAUxC,GACnCA,EAAKY,MAAQgB,EAAMnD,UACrBkE,EAAU,kBAyBZ,6BACE,mBAAGE,UAAU,aAAaC,QA7CT,kBACnBjB,EAAeN,UAAU5C,UAAYiD,EAAMnD,SACvC,KACAmD,EAAMmB,gBAAgBnB,EAAMnD,WA0C9B,SACE,sBAAKoE,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SACE,sBAAMG,MAAON,MAEf,qBAAKG,UAAU,QAAf,SAAwBpE,IACxB,qBAAKoE,UAAU,QAAf,SA3BFV,EAAUG,SAAWD,EAASC,QAE9B,gCACE,mBAAGU,MAAM,0BACT,mBAAGA,MAAM,0BAA0B,cAAY,YAIjDb,EAAUG,QACL,mBAAGU,MAAM,0BAGdX,EAASC,QACJ,mBAAGU,MAAM,0BAA0B,cAAY,cADxD,YMpFEnB,EAAiB,IAAIpB,EAEZ,SAASwC,EAAiBrB,GACvCW,qBAAU,WACRX,EAAMP,OAAOmB,GAAG,iBAAiB,SAACxC,GAChCkD,EAAYlD,MAEd4B,EAAMP,OAAOmB,GAAG,sBAAsB,SAAUxC,GAC9CmD,EACEC,EAAed,QAAQe,QAAO,SAACC,GAC7B,OAAOA,EAAK1B,MAAMnD,UAAYuB,EAAKY,YAIzC,IAAI2C,GAAS,EAUb,OATA7C,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,gBAC7B,IAAIA,EAAiB,KAAMoB,EAAM4B,eAElCC,MAAK,SAACzD,GACDuD,GACJJ,EAAeO,EAAc1D,OAE1B,WACLuD,GAAS,KAEV,IAEH,IACM7C,EAAiB,IAAIvB,EAE3B,EAAsC2C,mBAAS,IAA/C,mBAAO6B,EAAP,KAAoBR,EAApB,KACMC,EAAiBhB,iBAAOuB,GAC9BP,EAAed,QAAUqB,EAEzB,IAAMD,EAAgB,SAACE,GACrB,OAAOA,EAAIC,KAAI,SAAC7D,EAAMjB,GACpB,OACE,cAAC,EAAD,CACEgE,gBAAiBnB,EAAMmB,gBAEvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,QAAQ,EACRrB,OAAQO,EAAMP,OACdyC,WAAYlC,EAAMkC,WAClBrF,SAAUuB,EAAKyC,MALV1D,OAWPmE,EAAc,SAAClD,GACfA,EAAK+D,WAAanC,EAAMa,OACtBW,EAAed,QAAQlC,OAEtBgD,EAAed,QAAQ0B,MAAK,SAACV,GAC5B,OAAOA,EAAK1B,MAAMnD,UAAYuB,EAAKY,SAGrCuC,GAAe,SAACQ,GAAD,4BACVA,GADU,CAEb,cAAC,EAAD,CACEZ,gBAAiBnB,EAAMmB,gBACvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,QAAQ,EACRrB,OAAQO,EAAMP,OACdyC,WAAYlC,EAAMkC,WAClBrF,SAAUuB,EAAKY,YAKrBuC,GAAe,SAACQ,GAAD,4BACVA,GADU,CAEb,cAAC,EAAD,CACEZ,gBAAiBnB,EAAMmB,gBACvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,QAAQ,EACRrB,OAAQO,EAAMP,OACd5C,SAAUuB,EAAKY,KACfkD,WAAYlC,EAAMkC,oBAW5B,OACE,sBAAKd,MAAM,wBAAX,UACE,6BACE,mBAAGiB,KAAK,IAAIC,MAAO,CAAEC,MAAOvC,EAAMuC,OAASrB,QAP5B,WACnBlB,EAAMwC,qBAAqBxC,EAAM4B,YAAa5B,EAAMa,OAMhD,SACE,6BAAKb,EAAMa,WAGf,qBAAKO,MAAM,OAAX,SAAmBW,O,YC1GV,MAA0B,wCCKnC9B,EAAiB,IAAIpB,EAEZ,SAAS4D,EAAUzC,GAC9B,MAA2CE,oBAAS,GAApD,mBAAOwC,EAAP,KAAsBC,EAAtB,KACA,EAAmBC,YACjBC,GADKC,EAAP,oBAyBJ,OAAG9C,EAAMhB,KAEL,qBAAKoC,MAAM,MAAX,SACE,qBAAKA,MAAM,SAAX,SACE,yBAAQF,QAxBM,WAChB,IAAIwB,EAOF,OANA1C,EAAMP,OAAOG,KAAK,YAAY,CAC5BZ,KAAMiB,EAAeN,UAAU5C,SAC/BgG,UAAW/C,EAAMhB,OAEnB8D,SACAH,GAAkB,GAGpB3C,EAAMP,OAAOG,KAAK,aAAa,CAC7BZ,KAAMiB,EAAeN,UAAU5C,SAC/BgG,UAAW/C,EAAMhB,OAEnB2D,GAAkB,IAUYvB,MAAM,yBAAlC,UACE,mBAAGA,MAAM,0BACT,6BAAKpB,EAAMhB,cAMZ,KCpCT,IAAMiB,EAAiB,IAAIpB,EACrBC,EAAiB,IAAIvB,EACzB,oEAEEyF,GAAW,EACXC,GAAoB,EAEpBC,EAAa,CACfnG,SAAU,GACViG,UAAU,GA+SZ,SAASG,IACHrF,IAAE,gBAAgBsF,SAAS,UAC7BtF,IAAE,gBAAgBuF,YAAY,UAIhCvF,IAAE,gBAAgBwF,SAAS,UAGdC,MArTf,SAAiBvD,GACf,MAAwBE,oBAAS,GAAjC,mBAAOsD,EAAP,KAAaC,EAAb,KACA,EAAkCvD,mBAAS,IAA3C,mBAAOwD,EAAP,KAAkBC,EAAlB,KACA,EAA4CzD,mBAAS,IAArD,mBAAO0D,EAAP,KAAuBC,EAAvB,KAEAlD,qBAAU,WACR7B,EACGY,cAAc,OAAQ,CAAC,IAAId,EAAiB,OAAQ,SACpDiD,MAAK,SAACzD,GACL0D,EAAc1D,GAAMyD,MAAK,SAACzD,GACxBuF,EAAavF,SAInBU,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,SAACzD,GACLyF,EAAkBC,EAAuB1F,OAG7C4B,EAAMP,OAAOmB,GAAG,QAAQ,WACtBX,EAAe8D,OAAO/D,EAAMP,WAG9BO,EAAMP,OAAOmB,GAAG,oBAAoB,SAACxC,GAC/BA,EAAKjB,IAAM8C,EAAeN,UAAUxC,KACtC8F,GAAqBA,EACrBnE,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,WACJgC,EAAkBC,EAAuB1F,WAKjD4B,EAAMP,OAAOmB,GAAG,mBAAmB,SAACxC,GAClC6E,GAAqBA,EACrBnE,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,SAACzD,GACLyF,EAAkBC,EAAuB1F,UAI/C4B,EAAMP,OAAOmB,GAAG,gBAAgB,SAACxC,GAC3BA,EAAKvB,UAAYoD,EAAeN,UAAU5C,UAC5CiH,EAAW5F,EAAK6F,WAGpBjE,EAAMP,OAAOmB,GAAG,gBAAgB,SAAUxC,GACxC,GAAIA,EAAK6F,QAAUhE,EAAeN,UAAU5C,SAE1C+B,EACGY,cAAc,OAAQ,CACrB,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,WAAYR,EAAKvB,YAEvCgF,MAAK,SAACzD,GACL8F,EAAU9F,EACN8E,EAAWnG,UAAYmH,EAAQrD,OACjCqC,EAAWnG,SAAWmH,EAAQrD,KAC9BqC,EAAWF,UAAW,GAEnBE,EAAWF,WACdW,GAAa,SAACD,GAAD,4BACRA,GADQ,CAEX,cAAC,EAAD,CACEvC,gBAAiBnB,EAAMmB,gBACvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,OAAQoD,EAAQpD,OAChBrB,OAAQO,EAAMP,OACd5C,SAAUqH,EAAQrD,YAGtBqC,EAAWF,UAAW,WAIvB,GAAI5E,EAAKvB,UAAYoD,EAAeN,UAAU5C,SAAU,CAC7D,IAAImH,EACJpF,EACGY,cAAc,OAAQ,CACrB,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,WAAYR,EAAK6F,UAEvCpC,MAAK,SAACzD,GACL8F,EAAU9F,EACN8E,EAAWnG,UAAYmH,EAAQrD,OACjCqC,EAAWnG,SAAWmH,EAAQrD,KAC9BqC,EAAWF,UAAW,GAEnBE,EAAWF,WACdW,GAAa,SAACD,GAAD,4BACRA,GADQ,CAEX,cAAC,EAAD,CACEvC,gBAAiBnB,EAAMmB,gBACvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,OAAQoD,EAAQpD,OAChBrB,OAAQO,EAAMP,OACdyC,WAAYlC,EAAMkC,WAClBrF,SAAUqH,EAAQrD,YAGtBqC,EAAWF,UAAW,YAO/B,IAEH,IAAMgB,EAAa,SAAChF,GAClB2E,EACED,EAAUjC,QAAO,SAACC,GAChB,QAAYyC,GAARzC,EACF,OAAOA,EAAK1B,MAAMnD,UAAYmC,OAMhC8C,EAAgB,SAACE,GACrB,IAAKgB,EAEH,OADAA,GAAW,EACJrF,QAAQyG,IACbpC,EAAIC,KAAI,SAAC7D,EAAMjB,GACb,IAAIkH,EACJ,OAAOvF,EACJY,cAAc,OAAQ,CACrB,IAAId,EAAiB,OAAQ,cAC7B,IAAIA,EAAiB,KAAMqB,EAAeN,UAAUxC,IACpD,IAAIyB,EAAiB,MAAOR,EAAKjB,MAElC0E,MAAK,SAACyC,GAEL,GADAD,EAAeC,EACXlG,EAAKyC,MAAQZ,EAAeN,UAAU5C,UACpCsH,EAAaE,MACf,OACE,cAAC,EAAD,CACEpD,gBAAiBnB,EAAMmB,gBAEvBnC,KAAMiB,EAAeN,UAAU5C,SAC/B+D,OAAQ1C,EAAK0C,OACbrB,OAAQO,EAAMP,OACdyC,WAAYlC,EAAMkC,WAClBrF,SAAUuB,EAAKyC,MALV1D,UAYnB0E,MAAK,SAACzD,GACN,OAAOA,MAKP0F,EAAyB,SAAC9B,GAC9B,IAAKiB,EAEH,OADAA,GAAoB,EACbjB,EAAIC,KAAI,SAAC7D,EAAMjB,GACpB,OACE,cAACkE,EAAD,CACEF,gBAAiBnB,EAAMmB,gBACvBoB,MAAOnE,EAAKmE,MAEZC,qBAAsBxC,EAAMwC,qBAC5BN,WAAYlC,EAAMkC,WAClBzC,OAAQO,EAAMP,OACdmC,YAAaxD,EAAKjB,GAClB0D,KAAMzC,EAAKyC,MALN1D,OAYT4G,EAAS,WACb9D,EAAe8D,OAAO/D,EAAMP,SAe9B,OACE,uBAAOtC,GAAG,UAAUiE,MAAM,OAA1B,SACE,sBAAKA,MAAM,eAAX,UACE,qBAAKA,MAAM,0BAAX,SACE,qBAAKA,MAAM,mBAAX,SACE,mBAAGA,MAAM,+BAGb,qBAAKA,MAAM,0BAAX,SACE,sBAAKA,MAAM,oCAAX,UACE,6BAAKnB,EAAeN,UAAU5C,WAE9B,sBAAKqE,MAAM,MAAX,UACE,qBAAKA,MAAM,MAAX,SACE,wBAAQA,MAAM,mBAAmBF,QAASlB,EAAMwE,aAAhD,SACE,mBAAGpD,MAAM,sBAGb,qBAAKA,MAAM,MAAX,SACE,wBAAQA,MAAM,mBAAmBF,QAASiC,EAA1C,SACE,mBAAG/B,MAAM,8BAGb,qBAAKA,MAAM,MAAX,SACE,wBAAQF,QAAS6C,EAAQ3C,MAAM,mBAA/B,SACE,mBAAGA,MAAM,+BAIf,qBAAKA,MAAM,MAAX,SACE,qBAAKA,MAAM,SAAX,SACE,wBACEA,MAAM,yBACNF,QAASlB,EAAMyE,cAFjB,SAIE,mBAAGrD,MAAM,2BAKf,sBAAKjE,GAAG,cAAciE,MAAM,aAA5B,UACE,qBAAKA,MAAM,MAAX,SACE,wBAAQF,QAvDD,WACnB,IAAKsC,EAKH,OAJAxD,EAAMP,OAAOG,KAAK,WAAY,CAC5BZ,KAAMiB,EAAeN,UAAU5C,gBAEjC0G,GAAQ,GAGVzD,EAAMP,OAAOG,KAAK,aAAc,CAC9BZ,KAAMiB,EAAeN,UAAU5C,WAEjC0G,GAAQ,IA4CmCrC,MAAM,mBAArC,SACE,mBAAGA,MAAM,gCAGb,qBAAKA,MAAM,MAAX,SACE,wBAAQA,MAAM,mBAAd,SACE,mBAAGA,MAAM,8BAGb,qBAAKA,MAAM,MAAX,SACE,wBAAQF,QAAS6C,EAAQ3C,MAAM,mBAA/B,SACE,mBAAGA,MAAM,oCAMnB,qBAAKA,MAAM,0BAAX,SACE,qBAAKA,MAAM,4BAAX,SACE,cAACqB,EAAD,CACEhD,OAAQO,EAAMP,OACdT,KAAMgB,EAAMkC,iBAIlB,sBAAMd,MAAM,eAAZ,SACE,qBAAIA,MAAM,OAAV,UACE,qBAAIA,MAAM,QAAV,qBAEE,sBAAMA,MAAM,OAAZ,SACE,mBAAGF,QAASlB,EAAM0E,cAAetD,MAAM,WAAvC,oBAKHwC,OAIL,qBAAKxC,MAAM,cACX,qBAAKA,MAAM,eAAX,SACE,qBAAIA,MAAM,OAAV,UACE,qBAAIA,MAAM,QAAV,mCACgB,sBAAMA,MAAM,YAE3BsC,OAGL,qBAAKtC,MAAM,yB,iBC7RJuD,MA5Bf,SAAiB3E,GAEbW,qBAAU,WACNiE,IAAIC,SACL,IAGH,IAAIC,EAAU,UACVC,EAAQ,GASZ,OARI/E,EAAMgF,OACNF,GAAoB,SAGpBC,EADA/E,EAAM+E,MACE,gBAEA,iBAIR,qBAAK,WAAU,YAAa3D,MAAO2D,EAAnC,SACI,qBAAK3D,MAAO0D,EAAZ,SACK9E,EAAMiF,aCnBjBC,E,kDAGJ,WAAYzF,GAAS,IAAD,8BAClB,gBACKA,OAASA,EACd,EAAKX,eAAiB,IAAIvB,EAC1B,EAAK0C,eAAiB,IAAIpB,EAJR,E,2FAOpB,WAAuBsG,GAAvB,SAAAzH,EAAA,+EACS,IAAIC,SAAQ,SAACC,EAASC,GAE3B,IADA,IAAIuH,EAAe,GACV3G,EAAI,EAAGA,EAAI0G,EAAS3G,OAAQC,IAC/BA,GAAK0G,EAAS3G,OAAS,EACrB2G,EAAS1G,EAAI,GAAG4G,MAAQF,EAAS1G,GAAG4G,KACtCD,EAAaE,KACX,cAAC,EAAD,CACEL,QAASE,EAAS1G,GAAGwG,QACrBF,MAAOI,EAAS1G,GAAG4G,KACnBL,MAAM,KAIVI,EAAaE,KACX,cAAC,EAAD,CACEL,QAASE,EAAS1G,GAAGwG,QACrBF,MAAOI,EAAS1G,GAAG4G,KACnBL,MAAM,KAKZI,EAAaE,KACX,cAAC,EAAD,CACEL,QAASE,EAAS1G,GAAGwG,QACrBF,MAAOI,EAAS1G,GAAG4G,KACnBL,MAAM,KAKdpH,EAAQwH,OAhCZ,2C,mFAoCA,SAAeH,EAASI,EAAME,GAC5B,IAAIH,EAAeG,EAOnB,OALoB,MAAhBH,IACFA,EAAe,IAGjBA,EAAaE,KAAK,cAAC,EAAD,CAASL,QAASA,EAASF,MAAOM,EAAML,MAAM,KACzDI,I,yBAGT,SAAYH,EAASpI,GAAW,IAAD,OAC7BkC,KAAKD,eAAeY,cAAc,UAAW,CAC3C,IAAId,EAAiB,SAAU,GAC/B,IAAIA,EAAiB,OAAQG,KAAKkB,eAAeN,UAAU5C,UAC3D,IAAI6B,EAAiB,WAAY/B,GACjC,IAAI+B,EAAiB,UAAWqG,GAChC,IAAIrG,EAAiB,OAAQ,IAAI4G,QAGnCzG,KAAKD,eACFY,cAAc,gBAAiB,CAC9B,IAAId,EAAiB,OAAQ,eAC7B,IAAIA,EAAiB,OAAQG,KAAKkB,eAAeN,UAAU5C,UAC3D,IAAI6B,EAAiB,WAAY/B,GACjC,IAAI+B,EAAiB,OAAQ,IAAI4G,MACjC,IAAI5G,EAAiB,UAAWqG,KAEjCpD,MAAK,WACJ,EAAKpC,OAAOG,KAAK,eAAgB,CAC/B/C,SAAUA,EACVoH,OAAQ,EAAKhE,eAAeN,UAAU5C,SACtC0I,KAAM,UACNR,QAASA,EACTS,KAAM,IAAIF,KACV5D,YAAa,Y,kCAKrB,SAAqBqD,EAASU,GAC5BC,QAAQC,IACN9G,KAAKD,eAAeY,cAAc,UAAW,CAC3C,IAAId,EAAiB,SAAU,GAC/B,IAAIA,EAAiB,OAAQG,KAAKkB,eAAeN,UAAU5C,UAC3D,IAAI6B,EAAiB,WAAY,GACjC,IAAIA,EAAiB,UAAWqG,GAChC,IAAIrG,EAAiB,OAAQ,IAAI4G,MACjC,IAAI5G,EAAiB,gBAAiB,GACtC,IAAIA,EAAiB,SAAU+G,U,GA/FPvI,IAAMC,WAqGvB6H,IC9BAY,E,kDAjEX,aAAe,IAAD,8BACV,gBAHJC,KAAO,GAEO,EAOdC,gBAAiB,kBAAM,EAAKhG,MAAMgG,mBAPpB,EAQdC,aAAe,WACX,IAAM/D,EAAa,EAAKpD,eAAeY,cAAc,OAAO,CACxD,IAAId,EAAiB,OAAQ,OAC7B,IAAIA,EAAiB,WAAY,EAAKoB,MAAMkG,YAEhD,EAAKpH,eAAeY,cAAc,OAAO,CACrC,IAAId,EAAiB,OAAQ,iBAC7B,IAAIA,EAAiB,KAAM,EAAKqB,eAAeN,UAAUxC,IACzD,IAAIyB,EAAiB,MAAOsD,EAAW/E,MAE3C,EAAK6C,MAAMP,OAAOG,KAAK,WAAW,CAC9BZ,KAAM,EAAKiB,eAAeN,UAAU5C,SACpCF,SAAW,EAAKmD,MAAMkG,WAE1BjH,OAAOK,SAAS6G,QAAO,IApBvB,EAAKlG,eAAiB,IAAIpB,EAC1B,EAAKC,eAAiB,IAAIvB,EAC1B,EAAK6I,kBAAoB,IAAIlB,EAJnB,E,0CAyBd,WACI,IAAImB,EAAgB,GAChBC,EAAiB,GACjBC,EAAmB,GAUvB,OATGxH,KAAKiB,MAAMkG,WACNnH,KAAKiB,MAAMwG,iBAGXF,EAAiB,qBAAKlF,MAAM,iBAAX,SAA4B,wBAAQA,MAAM,gCAAd,SAA8C,mBAAGA,MAAM,2BACpGmF,EAAkB,qBAAKnF,MAAM,iBAAX,SAA4B,wBAAQF,QAASnC,KAAKiH,gBAAiB5E,MAAM,gCAA7C,SAA6E,mBAAGA,MAAM,0BAHpIiF,EAAe,qBAAKjF,MAAM,iBAAX,SAA4B,wBAAQF,QAASnC,KAAKkH,aAAc7E,MAAM,gCAA1C,SAA0E,mBAAGA,MAAM,4BAQlI,sBAAKA,MAAM,OAAX,UACI,sBAAKA,MAAM,uBAAX,UACOrC,KAAKiB,MAAMwG,gBAA4H,qBAAKpF,MAAM,2BAAX,SAAsC,oBAAIA,MAAM,qBAAV,SAAgCrC,KAAKiB,MAAMkG,aAA3L,qBAAK9E,MAAM,4BAAX,SAAuC,oBAAIA,MAAM,qBAAV,SAAgCrC,KAAKiB,MAAMkG,aACjHG,EACAC,EACAC,KAEL,qBAAKpJ,GAAG,aAAaiE,MAAM,6BAA3B,SACKrC,KAAKiB,MAAMmF,gB,gCAM5B,WACIpG,KAAK0H,gB,yBAGT,WACI3I,KAAE,WACEA,IAAE,gBAAgB4I,UAAU,4B,GA/DdrJ,aCNLsJ,E,kDAEjB,WAAY3G,GAAQ,IAAD,8BACf,cAAMA,IACD4G,MAAQxJ,IAAMyJ,YAFJ,E,+CAKnB,WACkC,IAA3B9H,KAAK6H,MAAMlG,QAAQoG,QACf/H,KAAKiB,MAAM+G,eACVhI,KAAKiB,MAAMgH,qBAAqBjI,KAAK6H,MAAMlG,QAAQoG,OACnD/H,KAAK6H,MAAMlG,QAAQoG,MAAQ,KAE3B/H,KAAKiB,MAAMiH,oBAAoBlI,KAAK6H,MAAMlG,QAAQoG,OAClD/H,KAAK6H,MAAMlG,QAAQoG,MAAQ,O,gCAKvC,SAAmBI,GAEG,KAAdA,EAAEC,SACFpI,KAAKqI,YAAYF,K,oBAGzB,WACI,IAAME,EAAcrI,KAAKqI,YAAYC,KAAKtI,MACpCuI,EAAqBvI,KAAKuI,mBAAmBD,KAAKtI,MAGxD,OACI,sBAAKqC,MAAM,kCAAX,UAEI,uBAAOqE,KAAK,OAAO8B,YAAY,2BAAwBC,IAAKzI,KAAK6H,MAAOa,UAAWH,EAAoBlG,MAAM,uCAC7G,wBAAQA,MAAM,6BAA6BF,QAASkG,EAApD,SAAiE,mBAAGhG,MAAM,gC,GAlCnD/D,a,gBCGxB,SAASqK,EAAUC,GAChC,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EACvB+I,EAAS,KACbhC,QAAQC,IAAI8B,EAAOtD,cA0CnB,OAPEuD,EATGD,EAAOtD,aAUR,qBAAKjD,MAAM,iBAAX,SACE,wBAAQA,MAAM,0BAAd,kCATF,qBAAKA,MAAM,kBAAX,SACE,wBAAQF,QA3BI,WAChBpC,EAAeY,cAAc,gBAAiB,CAC5C,IAAId,EAAiB,OAAQ,eAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,UACtD,IAAI6B,EAAiB,WAAY+I,EAAO9G,MACxC,IAAIjC,EAAiB,OAAQ,IAAI4G,MACjC,IAAI5G,EACF,UACA,qDAAiCqB,EAAeN,UAAU5C,UAE5D,IAAI6B,EAAiB,kBAAmB,KAG1C+I,EAAOlI,OAAOG,KAAK,eAAgB,CACjC/C,SAAU8K,EAAO9G,KACjBoD,OAAQhE,EAAeN,UAAUxC,GACjCsI,KAAM,MACNR,QACE,qDAAiChF,EAAeN,UAAU5C,SAC5D2I,KAAM,IAAIF,KACV5D,YAAa,QAOiBR,MAAM,4BAAlC,2BAcJ,sBAAKA,MAAM,qBAAX,UACE,qBAAKA,MAAM,QAAX,SAAoBuG,EAAO9G,OAC1B+G,KC7CP,IAAIC,EAAW,GACA,SAASC,EAAYH,GAClC,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EAE3B,EAA0BqB,mBAAS,IAAnC,mBAAO6H,EAAP,KAAcC,EAAd,KACMpB,EAAQxJ,IAAMyJ,YACpBlG,qBAAU,WACR7B,EACGY,cAAc,OAAQ,CAAC,IAAId,EAAiB,OAAQ,SACpDiD,MAAK,SAACzD,GACLyJ,EAAWzJ,EACXT,QAAQyG,IACNyD,EAAS5F,KAAI,SAACgG,EAAS9K,GACrB,OAAO2B,EACJY,cAAc,OAAQ,CACrB,IAAId,EAAiB,OAAQ,cAC7B,IAAIA,EAAiB,KAAMqB,EAAeN,UAAUxC,IACpD,IAAIyB,EAAiB,MAAOqJ,EAAQ9K,MAErC0E,MAAK,SAAC0C,GACL,GAAI0D,EAAQpH,MAAQZ,EAAeN,UAAU5C,SAC7C,OACE,cAAC2K,EAAD,CACE7G,KAAMoH,EAAQpH,KACdpB,OAAQkI,EAAOlI,OACf4E,aAAcE,EAAMA,MACpB2D,OAAQD,EAAQ9K,IACXA,UAKf0E,MAAK,SAACzD,GACN4J,EAAS5J,GACTyJ,EAAWzJ,UAGhB,IAEH,IAAM+J,EAAS,WACbH,EACEH,EAASpG,QAAO,SAACrD,EAAMjB,GACrB,UACEiB,QADF,IACEA,OADF,EACEA,EAAM4B,MAAMa,KACTuH,cACAC,SAASzB,EAAMlG,QAAQoG,MAAMsB,eAEhC,OAAOhK,OA0Bf,OACE,eAACkK,EAAA,EAAD,CAAOC,iBAAiB,eAAeC,KAAMb,EAAOpD,MAApD,UACE,cAAC+D,EAAA,EAAMG,OAAP,UACE,sBAAKrH,MAAM,YAAX,UACE,qBAAKA,MAAM,QAAX,SACE,+DAEF,qBAAKA,MAAM,UACX,qBAAKA,MAAM,oBAAX,SACE,wBAAQA,MAAM,uBAAuBF,QAASyG,EAAOe,WAArD,SACE,mBAAGtH,MAAM,iCAKjB,eAACkH,EAAA,EAAMK,KAAP,WACE,sBAAKvH,MAAM,4BAAX,UACE,qBAAKA,MAAM,QAAX,SACE,uBACEqE,KAAK,SACLrE,MAAM,eACNoG,IAAKZ,EACLgC,SApCO,WACjBZ,EACEH,EAASpG,QAAO,SAACrD,EAAMjB,GACrB,UACEiB,QADF,IACEA,OADF,EACEA,EAAM4B,MAAMa,KACTuH,cACAC,SAASzB,EAAMlG,QAAQoG,MAAMsB,eAEhC,OAAOhK,OA6BHqJ,UA3CU,SAACP,GACH,KAAdA,EAAEC,SACJgB,KA0CQZ,YAAY,wBACZ,aAAW,aAGf,qBAAKnG,MAAM,QAAX,SACE,wBACEqE,KAAK,SACLrE,MAAM,gBACNF,QAASiH,EACTrB,MAAM,GACN,aAAW,SALb,SAOE,mBAAG1F,MAAM,yBAIf,qBAAKA,MAAM,cACV2G,QCtHM,SAASc,EAAa7I,GACnC,IACMlB,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EAC3B,EAAkCqB,mBAAS,IAA3C,mBAAO4I,EAAP,KAAkBC,EAAlB,KAEApI,qBAAU,WACJX,EAAM4B,aACR9C,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,iBAC7B,IAAIA,EAAiB,KAAMoB,EAAM4B,eAElCC,MAAK,SAACzD,GACL2K,EAAa3K,QAGlB,CAAC4B,IAEJ,IAcMgJ,EAAU,WACdlK,EAAeY,cAAc,gBAAiB,CAC5C,IAAId,EAAiB,OAAQ,aAC7B,IAAIA,EAAiB,KAAMoB,EAAMiJ,SAEnCjJ,EAAMkJ,mBAAmBlJ,EAAMiJ,QA0BjC,MAAkB,OAAdjJ,EAAMyF,KAEN,sBAAKrE,MAAM,qBAAX,UACE,qBAAKA,MAAM,QAAX,SACE,mBAAGA,MAAM,uBAEX,qBAAKA,MAAM,QAAX,SAAoBpB,EAAMhB,OAC1B,qBAAKoC,MAAM,kBAAX,SACE,wBACEF,QAtDQ,WAChBpC,EAAeY,cAAc,gBAAiB,CAC5C,IAAId,EAAiB,OAAQ,WAC7B,IAAIA,EAAiB,OAAQoB,EAAMhB,MACnC,IAAIJ,EAAiB,WAAYqB,EAAeN,UAAU5C,UAC1D,IAAI6B,EAAiB,KAAMoB,EAAMiJ,SAEnCjJ,EAAMP,OAAOG,KAAK,UAAW,CAC3BuJ,UAAWlJ,EAAeN,UAAU5C,SACpCA,SAAUiD,EAAMhB,OAElBgB,EAAMkJ,mBAAmBlJ,EAAMiJ,QA4CvB7H,MAAM,8CAFR,SAIE,mBAAGA,MAAM,qBAGb,qBAAKA,MAAM,iBAAX,SACE,wBACEF,QAAS8H,EACT5H,MAAM,6CAFR,SAIE,mBAAGA,MAAM,wBAKM,WAAdpB,EAAMyF,KAEb,sBAAKrE,MAAM,qBAAX,UACE,qBAAKA,MAAM,QAAX,SACE,mBAAGA,MAAM,sBAEX,qBAAKA,MAAM,QAAX,SAAoBpB,EAAMhB,OAC1B,qBAAKoC,MAAM,yBAAX,SAAqCpB,EAAMiF,aAGxB,UAAdjF,EAAMyF,KAEb,sBAAKrE,MAAM,qBAAX,UACE,qBAAKA,MAAM,QAAX,SACE,mBAAGA,MAAM,0BAEX,qBAAKA,MAAM,QAAX,gBAAoB0H,QAApB,IAAoBA,OAApB,EAAoBA,EAAWjI,OAC/B,qBAAKO,MAAM,kBAAX,SACE,wBACEF,QAnEW,WACnBpC,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,iBAC7B,IAAIA,EAAiB,KAAMoB,EAAM4B,aACjC,IAAIhD,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,WACJ/C,EACGY,cAAc,gBAAiB,CAC9B,IAAId,EAAiB,OAAQ,aAC7B,IAAIA,EAAiB,KAAMoB,EAAMiJ,SAElCpH,MAAK,WACJ7B,EAAMP,OAAOG,KAAK,aAAc,CAC9BuJ,UAAWlJ,EAAeN,UAAU5C,SACpCqM,QAASpJ,EAAM4B,cAEjB5B,EAAMkJ,mBAAmBlJ,EAAMiJ,cAkD/B7H,MAAM,8CAFR,SAIE,mBAAGA,MAAM,qBAGb,qBAAKA,MAAM,iBAAX,SACE,wBACEF,QAAS8H,EACT5H,MAAM,6CAFR,SAIE,mBAAGA,MAAM,6BApBZ,E,YC/FM,SAASiI,GAAmB1B,GACzC,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EAC3B,EAA0CqB,qBAA1C,mBAAOoJ,EAAP,KAAsBC,EAAtB,KACMC,EAAmBhJ,iBAAO8I,GAChCE,EAAiB9I,QAAU4I,EAC3B,IAAMJ,EAAqB,SAACO,GAAS,IAAD,EAClCF,EAAgB,UACdC,EAAiB9I,eADH,aACd,EAA0Be,QAAO,SAACC,GAChC,OAAOA,EAAK1B,MAAMiJ,OAASQ,OAiIjC,OA9GA9I,qBAAU,WACR7B,EACGY,cAAc,gBAAiB,CAC9B,IAAId,EAAiB,OAAQ,YAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,SAAC6H,GACLH,GAAiB,SAACD,GAAD,OACfI,EAAWzH,KAAI,SAAC7D,EAAMjB,GACpB,MAAiB,WAAbiB,EAAKqH,KAEL,cAACoD,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,UACNyD,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZ6B,KAAMZ,EAAKY,KACXiG,QAAS7G,EAAK6G,SAHT9H,GAMa,UAAbiB,EAAKqH,KAEZ,cAACoD,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,SACN7D,YAAaxD,EAAKwD,YAClBsH,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZ6B,KAAMZ,EAAKY,KACXiG,QAAS7G,EAAK6G,SAHT9H,GAQP,cAAC0L,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,MACNyD,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZwM,iBAAiB,EACjB3K,KAAMZ,EAAKY,MAHN7B,YAWnBwK,EAAOlI,OAAOmB,GAAG,mBAAmB,SAAUxC,GACxCA,EAAKvB,UAAYoD,EAAeN,UAAU5C,UAC5C+B,EACGY,cAAc,gBAAiB,CAC9B,IAAId,EAAiB,OAAQ,YAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,YAEvD8E,MAAK,SAAC6H,GACLH,EACEG,EAAWzH,KAAI,SAAC7D,EAAMjB,GACpB,MAAiB,WAAbiB,EAAKqH,KAEL,cAACoD,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,UACNyD,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZ6B,KAAMZ,EAAKY,KACXiG,QAAS7G,EAAK6G,SAHT9H,GAMa,UAAbiB,EAAKqH,KAEZ,cAACoD,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,SACN7D,YAAaxD,EAAKwD,YAClBsH,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZ6B,KAAMZ,EAAKY,KACXiG,QAAS7G,EAAK6G,SAHT9H,GAQP,cAAC0L,EAAD,CACEpJ,OAAQkI,EAAOlI,OACfgG,KAAM,MACNyD,mBAAoBA,EAEpBD,MAAO7K,EAAKjB,GACZwM,iBAAiB,EACjB3K,KAAMZ,EAAKY,MAHN7B,aAavBwK,EAAOlI,OAAOmB,GAAG,uBAAuB,SAAUxC,IAxHpB,SAACrB,GAAc,IAAD,EAC5CwM,EAAgB,UACdC,EAAiB9I,eADH,aACd,EAA0Be,QAAO,SAACC,GAQhC,MAPuB,WAAnBA,EAAK1B,MAAMyF,MAAqB/D,EAAK1B,MAAMhB,MAAQjC,IACrD6I,QAAQC,IAAInE,EAAK1B,OACjBlB,EAAeY,cAAc,gBAAiB,CAC5C,IAAId,EAAiB,OAAQ,aAC7B,IAAIA,EAAiB,KAAM8C,EAAK1B,MAAMiJ,UAGhB,WAAnBvH,EAAK1B,MAAMyF,MAAqB/D,EAAK1B,MAAMhB,MAAQjC,MA+G5D6M,CAAwBxL,EAAKY,WAE9B,IAGD,eAACsJ,EAAA,EAAD,CAAOC,iBAAiB,eAAeC,KAAMb,EAAOpD,MAApD,UACE,cAAC+D,EAAA,EAAMG,OAAP,UACE,sBAAKrH,MAAM,YAAX,UACE,qBAAKA,MAAM,QAAX,SACE,8CAEF,qBAAKA,MAAM,UACX,qBAAKA,MAAM,oBAAX,SACE,wBAAQA,MAAM,uBAAuBF,QAASyG,EAAOe,WAArD,SACE,mBAAGtH,MAAM,iCAKjB,cAACkH,EAAA,EAAMK,KAAP,UAAaa,EAAiB9I,aC9JrB,SAASmJ,GAAWlC,GACjC,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EACvB+I,EAAS,KA+Cb,OAPEA,EATGD,EAAOmC,WAUR,qBAAK1I,MAAM,iBAAX,SACE,wBAAQA,MAAM,0BAAd,gCATF,qBAAKA,MAAM,kBAAX,SACE,wBAAQF,QAhCO,WACnBpC,EACGY,cAAc,gBAAiB,CAC9B,IAAId,EAAiB,OAAQ,UAC7B,IAAIA,EAAiB,OAAQqB,EAAeN,UAAU5C,UACtD,IAAI6B,EAAiB,WAAY+I,EAAO9G,MACxC,IAAIjC,EAAiB,OAAQ,IAAI4G,MACjC,IAAI5G,EACF,UACA,2BAA6BqB,EAAeN,UAAU5C,UAExD,IAAI6B,EAAiB,kBAAmB,GACxC,IAAIA,EAAiB,cAAe+I,EAAO/F,eAE5CC,MAAK,SAACzD,GACa,QAAdA,EAAKmG,OACPoD,EAAOlI,OAAOG,KAAK,eAAgB,CACjC/C,SAAU8K,EAAO9G,KACjBoD,OAAQhE,EAAeN,UAAUxC,GACjCsI,KAAM,SACNR,QACE,qDACAhF,EAAeN,UAAU5C,SAC3B2I,KAAM,IAAIF,KACV5D,YAAa+F,EAAO/F,kBAQOR,MAAM,4BAArC,sBAcJ,sBAAKA,MAAM,qBAAX,UACE,qBAAKA,MAAM,QAAX,SAAoBuG,EAAO9G,OAC1B+G,KCjDP,IAAIC,GAAW,GAEA,SAASkC,GAAqBpC,GAC3C,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EAE3B,EAA0BqB,qBAA1B,mBAAO6H,EAAP,KAAcC,EAAd,KAEMpB,EAAQxJ,IAAMyJ,YAEpBlG,qBAAU,WACJgH,EAAO/F,aACT9C,EACGY,cAAc,OAAQ,CAAC,IAAId,EAAiB,OAAQ,SACpDiD,MAAK,SAACzD,GACLyJ,GAAWzJ,EACXT,QAAQyG,IACNyD,GAAS5F,KAAI,SAACgG,EAAS9K,GACrB,OAAO2B,EACJY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,WAC7B,IAAIA,EAAiB,KAAM+I,EAAO/F,aAClC,IAAIhD,EAAiB,OAAQqJ,EAAQpH,QAEtCgB,MAAK,SAAC0C,GACL,GAAI0D,EAAQpH,MAAQZ,EAAeN,UAAU5C,SAE7C,OACE,cAAC8M,GAAD,CACEhJ,KAAMoH,EAAQpH,KACdpB,OAAQkI,EAAOlI,OACfqK,WAAYvF,EACZ3C,YAAa+F,EAAO/F,YACpBsG,OAAQD,EAAQ9K,YAK1B0E,MAAK,SAACzD,GACN4J,EAAS5J,GACTyJ,GAAWzJ,UAIlB,CAACuJ,EAAO/F,cAEX,IAAMuG,EAAS,WACbH,EACEH,GAASpG,QAAO,SAACrD,EAAMjB,GACrB,UACEiB,QADF,IACEA,OADF,EACEA,EAAM4B,MAAMa,KACTuH,cACAC,SAASzB,EAAMlG,QAAQoG,MAAMsB,eAEhC,OAAOhK,OA0Bf,OACE,eAACkK,EAAA,EAAD,CAAOC,iBAAiB,eAAeC,KAAMb,EAAOpD,MAApD,UACE,cAAC+D,EAAA,EAAMG,OAAP,UACE,sBAAKrH,MAAM,YAAX,UACE,qBAAKA,MAAM,QAAX,SACE,sEAEF,qBAAKA,MAAM,UACX,qBAAKA,MAAM,oBAAX,SACE,wBAAQA,MAAM,uBAAuBF,QAASyG,EAAOe,WAArD,SACE,mBAAGtH,MAAM,iCAKjB,eAACkH,EAAA,EAAMK,KAAP,WACE,sBAAKvH,MAAM,4BAAX,UACE,qBAAKA,MAAM,QAAX,SACE,uBACEqE,KAAK,SACLrE,MAAM,eACNoG,IAAKZ,EACLgC,SApCO,WACjBZ,EACEH,GAASpG,QAAO,SAACrD,EAAMjB,GACrB,UACEiB,QADF,IACEA,OADF,EACEA,EAAM4B,MAAMa,KACTuH,cACAC,SAASzB,EAAMlG,QAAQoG,MAAMsB,eAEhC,OAAOhK,OA6BHqJ,UA3CU,SAACP,GACH,KAAdA,EAAEC,SACJgB,KA0CQZ,YAAY,wBACZ,aAAW,aAGf,qBAAKnG,MAAM,QAAX,SACE,wBACEqE,KAAK,SACLrE,MAAM,gBACNF,QAASiH,EACTrB,MAAM,GACN,aAAW,SALb,SAOE,mBAAG1F,MAAM,yBAIf,qBAAKA,MAAM,cACV2G,QC1HM,SAASiC,GAAerC,GACrC,IAAM7I,EAAiB,IAAIvB,EACrB0C,EAAiB,IAAIpB,EAE3B,EAA0BqB,qBAA1B,mBAAO6H,EAAP,KAEMlH,GAFN,KAEazD,IAAMyJ,aACbtE,EAAQnF,IAAMyJ,YA4BpB,OACE,eAACyB,EAAA,EAAD,CAAOC,iBAAiB,eAAeC,KAAMb,EAAOpD,MAApD,UACE,cAAC+D,EAAA,EAAMG,OAAP,UACE,sBAAKrH,MAAM,YAAX,UACE,qBAAKA,MAAM,QAAX,SACE,yDAEF,qBAAKA,MAAM,UACX,qBAAKA,MAAM,oBAAX,SACE,wBAAQA,MAAM,uBAAuBF,QAASyG,EAAOe,WAArD,SACE,mBAAGtH,MAAM,iCAKjB,eAACkH,EAAA,EAAMK,KAAP,WACE,sBAAKvH,MAAM,4BAAX,UACE,qBAAKA,MAAM,cAAX,SACE,uBACEqE,KAAK,OACLrE,MAAM,eACNoG,IAAK3G,EACL0G,YAAY,WACZ,aAAW,WACX0C,UAAQ,MAGZ,qBAAK7I,MAAM,cAAX,SACE,uBACEqE,KAAK,QACLrE,MAAM,eACNoG,IAAKjF,EACLgF,YAAY,QACZ,aAAW,QACX0C,UAAQ,MAGZ,qBAAK7I,MAAM,qBAAX,SACE,wBACEqE,KAAK,SACLrE,MAAM,gBACNF,QAnEG,WACb,GAA0B,IAAtBL,EAAKH,QAAQoG,OAAsC,IAAvBvE,EAAM7B,QAAQoG,MAA9C,CAGA,IAAIoD,EAAe3H,EAAM7B,QAAQoG,MAAMvH,QAAQ,IAAK,IACpDT,EACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,UAC7B,IAAIA,EAAiB,OAAQiC,EAAKH,QAAQoG,OAC1C,IAAIlI,EAAiB,QAASsL,GAC9B,IAAItL,EAAiB,KAAMqB,EAAeN,UAAUxC,MAErD0E,MAAK,SAACzD,GACLuJ,EAAOlI,OAAOG,KAAK,kBAAmB,CACpCiB,KAAMA,EAAKH,QAAQoG,MACnBvE,MAAO2H,EACP/M,GAAI8C,EAAeN,UAAUxC,GAC7ByE,YAAaxD,EAAKjB,GAClB4K,MAAO3J,EAAK2J,MACZoC,eAAgB/L,EAAK+L,iBAEvBtJ,EAAKH,QAAQoG,MAAQ,GACrBvE,EAAM7B,QAAQoG,MAAQ,QA8ChBA,MAAM,GACN,aAAW,gBALb,SAOE,mBAAG1F,MAAM,8BAIf,qBAAKA,MAAM,cACV2G,QCzFT,IAAM9H,GAAiB,IAAIpB,EACZ,SAASuL,GAAapK,GAKjC,OACI,qBAAKiB,UAAU,2BAAf,SACI,mBAAGC,QAJU,kBAAMjB,GAAeN,UAAU5C,UAAYiD,EAAMhB,KAAO,KAAOgB,EAAMmB,gBAAgBnB,EAAMhB,OAIxG,SAA0B,6BAAMgB,EAAMhB,WCL3B,IAAIH,EAA3B,IACMC,GAAiB,IAAIvB,EAAe,oEAE3B,SAAS8M,GAASrK,GAC/B,MAAwCE,qBAAxC,mBAAOoK,EAAP,KAAqBC,EAArB,KAqCA,OAlCA5J,qBAAU,WACR,IAAI+C,EACJ5E,GAAeY,cAAc,YAAa,CACxC,IAAId,EAAiB,OAAQ,iBAC7B,IAAIA,EAAiB,KAAMoB,EAAM4B,eAChCC,MAAK,SAACzD,GACPsF,EAAY8G,MAAMC,KAAKrM,EAAK2J,MAAM2C,MAAM,SACvC7I,MAAK,WACNlE,QAAQyG,IAAIV,EAAUzB,KAAI,SAAC7D,EAAMjB,GAC/B,OAAO2B,GAAeY,cAAc,OAAQ,CAC1C,IAAId,EAAiB,OAAQ,aAC7B,IAAIA,EAAiB,KAAMR,KAC1ByD,MAAK,SAACzD,GACR,OAAO,cAACgM,GAAD,CAAcjJ,gBAAiBnB,EAAMmB,gBAA0BnC,KAAMZ,EAAKyC,MAAf1D,UAEjE0E,MAAK,SAACzD,GACRmM,EAAgBnM,WAKnB,CAAC4B,EAAM4B,cAIVjB,qBAAU,WACRX,EAAMP,OAAOmB,GAAG,sBAAsB,SAACxC,GACrCwH,QAAQC,IAAI,OACRzH,EAAK+D,WAAanC,EAAM4B,aAC1B2I,GAAgB,SAAAD,GAAY,4BAAQA,GAAR,CAAsB,cAACF,GAAD,CAAcjJ,gBAAiBnB,EAAMmB,gBAAiBnC,KAAMZ,EAAKY,iBAGtH,IAGD,sBAAKiC,UAAU,WAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,8DAEDqJ,K,WCxBHK,GACAlL,GAEAmL,GAXE9L,GAAiB,IAAIvB,EACrB0C,GAAiB,IAAIpB,EAEvBuH,GAAoB,KAEpByE,GAAa,GACbC,GAAQ,EACRC,GAAkB,EAGlBC,GAAc,GAyZlB,SAASC,KAEJhL,GAAeJ,cACY,UAA5BZ,OAAOK,SAAS4L,UACY,aAA5BjM,OAAOK,SAAS4L,UAEhBjM,OAAOK,SAASC,QAAQ,UA7ZxBU,GAAeJ,eACjBJ,GAAS0L,YAAG,2CAybdrN,IAAEsN,UAAUC,OAAM,SAAUvN,GAC1B,IAAIwN,EAAO,GAGXA,EAAKC,YAAc,WACjBzN,EAAE,QAAQwF,SAAS,iBAErBgI,EAAKE,YAAc,WACjB1N,EAAE,QAAQuF,YAAY,iBAGxBvF,EAAE,2BAA2B8C,GAAG,SAAS,WAClC9C,EAAE,QAAQsF,SAAS,gBAGtBkI,EAAKE,cAFLF,EAAKC,iBAMTzN,EAAE,cAAc8C,GAAG,SAAS,WAC1B0K,EAAKE,iBAGH1N,EAAE,QAAQsF,SAAS,iBACrBtF,EAAE,SAAS8C,GAAG,SAAS,WACrB0K,EAAKE,oBAKIC,OApdf,WAEER,KAEA7E,GAAoB,IAAIlB,EAAkBzF,IAC1CA,GAAOmB,GAAG,WAAW,WACfX,GAAeJ,eACjBJ,GAAOG,KAAK,WAAY,CACtBZ,KAAMiB,GAAeN,UAAU5C,SAC/BI,GAAI8C,GAAeN,UAAUxC,KAE/B2B,GAAeY,cAAc,OAAQ,CACnC,IAAId,EAAiB,OAAQ,cAC7B,IAAIA,EAAiB,KAAMqB,GAAeN,UAAUxC,UAI1DsC,GAAOmB,GAAG,cAAc,WACtB9B,GAAeY,cAAc,OAAQ,CACnC,IAAId,EAAiB,OAAQ,eAC7B,IAAIA,EAAiB,KAAMqB,GAAeN,UAAUxC,SAKxD,MAAgC+C,qBAAhC,mBAAOgG,EAAP,KAAiBwF,EAAjB,KACA,EAAgCxL,mBAAS,IAAzC,mBAAOiF,EAAP,KAAiBwG,EAAjB,KACA,EAAkCzL,oBAAS,GAA3C,mBAAO0L,EAAP,KAAkBpH,EAAlB,KACA,EAAoCtE,oBAAS,GAA7C,mBAAO2L,EAAP,KAAmBpH,EAAnB,KACA,EAA8CvE,oBAAS,GAAvD,mBAAO4L,EAAP,KAAwBC,EAAxB,KACA,EAA8C7L,oBAAS,GAAvD,mBAAO8L,EAAP,KAAwBC,EAAxB,KACA,EAAsC/L,oBAAS,GAA/C,mBAAOgM,EAAP,KAAoBC,EAApB,KACA,EAAsCjM,oBAAS,GAA/C,mBAAOkM,EAAP,KAAoBC,EAApB,KACA,EAA0BnM,oBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACMgM,EAAc9L,iBAAO0F,GAC3BoG,EAAY5L,QAAUwF,EACtB,IAAMzF,EAAWD,iBAAOH,GAClBkM,EAAiB/L,iBAAO4L,GAC9BG,EAAe7L,QAAU0L,EACzB3L,EAASC,QAAUL,EAEnBM,qBAAU,WACR6L,YAAW,sBAAC,sBAAA9O,EAAA,sDACV+B,GAAOG,KAAK,aADF,2CAET,KACHgG,QAAQC,IAAI,QACZ4G,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAAQ/K,MAAK,SAACzD,GACzD,IAAIyO,EAAgB,IAAIC,cAAc1O,GAEtCyO,EAAcE,QAAU,SAAU7F,GAChC8D,GAAc,IAEhB6B,EAAcG,gBAAkB,SAAU9F,GACxC8D,GAAY1F,KAAK4B,EAAE9I,OAErByO,EAAcI,OAAS,SAAU/F,GAC/B,IAAIgG,EAAO,IAAIC,KAAKnC,GAAa,CAAEvF,KAAM,2BACzChG,GAAOG,KAAK,QAASsN,IAIvBL,EAAcO,QACdZ,aAAY,WACND,EAAe7L,UAAYD,EAASC,SACX,YAAvBmM,EAActI,QAChBsI,EAAcO,QACdC,YAAW,cAAU,MAGvBR,EAAcS,OACdT,EAAcO,SAEa,aAAvBP,EAActI,OAChBsI,EAAcS,SAGjB,QAGL7N,GAAOmB,GAAG,SAAS,SAAU2M,GACvBhB,EAAe7L,UACjBkK,GAAY,IAAIuC,KAAK,CAACI,GAAc,CAAE9H,KAAM,2BAChC,IAAI+H,MAAMvO,OAAOwO,IAAIC,gBAAgB9C,KAC3C+C,WAIVlO,GAAOmB,GAAG,YAAY,SAACxC,GACjBA,EAAKyC,MAAQZ,GAAeN,UAAU5C,WACxC6N,GAAY,KACZyB,GAAe,OAGnB5M,GAAOmB,GAAG,aAAa,SAACxC,GAClBA,EAAKyC,MAAQZ,GAAeN,UAAU5C,WACxC6N,GAAY,KACZyB,GAAe,OAGnB5M,GAAOmB,GAAG,QAAQ,SAACxC,GACbA,EAAKyC,MAAQZ,GAAeN,UAAU5C,WACxC6N,GAAY,KACZtK,GAAS,OAGbb,GAAOmB,GAAG,UAAU,SAACxC,GACfA,EAAKyC,MAAQZ,GAAeN,UAAU5C,WACxC6N,GAAY,KACZtK,GAAS,OAIbb,GAAOmB,GAAG,mBAAmB,SAAUxC,GACrC,GAAIA,EAAKvB,UAAYoD,GAAeN,UAAU5C,SAC5C,GAAiB,WAAbqB,EAAKqH,KAAmB,CAC1B,GAAIrH,EAAK6F,QAAUqI,EAAY5L,QAAS,OACxCkN,YAAM,qCAAuBxP,EAAK6F,OAAS,IAAK,CAC9C4J,SAAU,eACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUhK,EACViK,MAAO,aAEa,UAAbhQ,EAAKqH,KACdmI,YAAM,8CAA2BxP,EAAK6G,QAAU,IAAK,CACnD4I,SAAU,eACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUhK,EACViK,MAAO,SAGTR,YAAMxP,EAAK6G,QAAS,CAClB4I,SAAU,eACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUhK,EACViK,MAAO,cAKd,IAGH,IAAMjN,EAAkB,SAACkN,GACvBlC,GAAe,GACfT,EAAY2C,GACZvP,GAAeY,cAAc,YAAa,CACxC,IAAId,EAAiB,OAAQ,sBAC7B,IAAIA,EAAiB,OAAQqB,GAAeN,UAAU5C,YAExD0C,GAAOG,KAAK,mBAAoB,CAC9BuC,UAAWwI,GACX3L,KAAMiB,GAAeN,UAAU5C,WAEjC4N,GAAc,KACdlL,GAAOG,KAAK,WAAY,CACtBZ,KAAMqP,KAIJC,GAAgB,WACpB9J,GAAcoH,IAEV2C,GAAkB,WACtB9J,GAAeoH,IAGX2C,GAAsB,WAC1BvC,GAAoBD,IAEhByC,GAAsB,WAC1B1C,GAAoBD,IAEtB7M,OAAOyP,QAAU,WACfjP,GAAOG,KAAK,WAAY,CACtBZ,KAAMiB,GAAeN,UAAU5C,SAC/BI,GAAI8C,GAAeN,UAAUxC,KAE/B2B,GAAeY,cAAc,OAAQ,CACnC,IAAId,EAAiB,OAAQ,cAC7B,IAAIA,EAAiB,KAAMqB,GAAeN,UAAUxC,OAIxD8B,OAAO0P,OAAS,WACd7P,GAAeY,cAAc,OAAQ,CACnC,IAAId,EAAiB,OAAQ,aAC7B,IAAIA,EAAiB,KAAMqB,GAAeN,UAAUxC,MAEtDsC,GAAOG,KAAK,YAAa,CACvBZ,KAAMiB,GAAeN,UAAU5C,YAKnC,IA+MuBiC,GAAM4C,GA/MvBwF,GAAc,SAACnC,GACnBxF,GAAOG,KAAK,WAAY,CACtBqE,OAAQhE,GAAeN,UAAU5C,SACjCF,SAAUqJ,EACVjB,QAASA,EACT6F,MAAOA,KAETA,KACAa,GAAY,SAACxG,GAAD,4BACPA,GADO,CAEV,cAAC,EAAD,CAASF,QAASA,EAASF,OAAO,EAAMC,MAAM,SAEhDoB,GAAkBgB,YAAYnC,EAASiB,IAIrC2E,IAAc3E,GAAYA,IAC5B2E,GAAa3E,EACTgG,GA6LiBlN,GA5LHiB,GAAeN,UAAU5C,SA4LhB6E,GA5L0B+I,GA6LhD7L,GACJY,cAAc,UAAW,CACxB,IAAId,EAAiB,OAAQI,IAC7B,IAAIJ,EAAiB,SAAUgD,IAC/B,IAAIhD,EAAiB,gBAAiB,KAEvCiD,MAAK,SAACzD,GACL,OAAOgI,GAAkBwI,iBAAiBxQ,GAAMyD,MAAK,SAACzD,GACpD,OAAOA,SArMuDyD,MAC9D,SAACzD,GACCuN,EAAYvN,OAIhBuM,GAAc,KAoMpB,SAAqB3L,EAAMnC,GACzB,OAAOiC,GACJY,cAAc,UAAW,CACxB,IAAId,EAAiB,OAAQI,GAC7B,IAAIJ,EAAiB,WAAY/B,KAElCgF,MAAK,SAACzD,GACL,OAAOgI,GAAkBwI,iBAAiBxQ,MA1M1CyQ,CAAY5O,GAAeN,UAAU5C,SAAUmJ,GAAUrE,MAAK,SAACzD,GAC7DuN,EAAYvN,QAKlB,IAAM4I,GAAuB,SAAC/B,GAC5B0G,GAAY,SAACxG,GAAD,4BACPA,GADO,CAEV,cAAC,EAAD,CAASF,QAASA,EAASF,OAAO,EAAMC,MAAM,SAEhDoB,GAAkBY,qBAAqB/B,EAASiB,IAmGlD,OA/FAzG,GAAOmB,GAAG,YAAY,SAAUxC,GAC1BA,EAAK0M,OAASC,IAEd3M,EAAK6F,QAAUiC,GACf9H,EAAKvB,UAAYoD,GAAeN,UAAU5C,UAE1B,MAAZmJ,GAAgC,MAAZf,IACtBwG,GAAY,SAACxG,GAAD,4BACPA,GADO,CAEV,cAAC,EAAD,CAASF,QAAS7G,EAAK0Q,QAAS/J,OAAO,EAAOC,MAAM,SAEtD+F,GAAkB3M,EAAK0M,UAqF7B,sBAAK1J,MAAM,gBAAX,UACE,cAAC,IAAD,CACEyM,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBgB,aAAa,EACbf,cAAY,EACZgB,KAAK,EACLC,kBAAgB,EAChBf,WAAS,EACTD,cAAY,IAEbhD,KACD,sBAAK9N,GAAG,OAAOiE,MAAM,cAArB,UACE,oBAAGA,MAAM,4CAAT,UACE,sBAAMA,MAAM,SACZ,sBAAMA,MAAM,SACZ,sBAAMA,MAAM,SACZ,sBAAMA,MAAM,qBACZ,sBAAMA,MAAM,wBApEC,MAAfuJ,GAEA,sBAAKvJ,MAAM,YAAX,UACE,sBAAKA,MAAM,qBAAX,UACE,cAAC,EAAD,CACE+D,SAAUA,EACVe,SAAUA,EACVF,gBAAiByI,GACjBjI,gBAAiB0F,IAEnB,cAAC,EAAD,CACEhG,SAAUA,EACVe,oBAAqBG,GACrBL,cAAemF,EACflF,qBAAsBA,QAG1B,qBAAK5F,MAAM,kBAAX,SACE,cAACiJ,GAAD,CACElJ,gBAAiBA,EACjB1B,OAAQA,GACRmC,YAAa+I,UAOrB,sBAAKvJ,MAAM,QAAX,UACE,cAAC,EAAD,CACE+D,SAAUA,EACV1F,OAAQA,GACRyG,SAAUA,EACV/E,gBAAiBA,EACjB6E,gBAAiByI,GACjBjI,gBAAiB0F,IAEnB,cAAC,EAAD,CACEhG,SAAUA,EACVe,oBAAqBG,GACrBL,cAAemF,EACflF,qBAAsBA,WAiC1B,cAAC,EAAD,CACExC,aAAc8J,GACd7J,cAAe8J,GACf7J,cAAe8J,GACf/O,OAAQA,GACR0B,gBAAiBA,EACjBqB,qBA9GuB,SAACZ,EAAasN,GACzC/C,GAAe,GACfrN,GACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,sBAC7B,IAAIA,EAAiB,OAAQqB,GAAeN,UAAU5C,YAEvD8E,MAAK,WACJ8I,GAAc/I,EACd8J,EAAYwD,GACZpQ,GACGY,cAAc,YAAa,CAC1B,IAAId,EAAiB,OAAQ,mBAC7B,IAAIA,EAAiB,KAAMgD,GAC3B,IAAIhD,EAAiB,OAAQqB,GAAeN,UAAU5C,YAEvD8E,MAAK,WACJpC,GAAOG,KAAK,mBAAoB,CAC9BuC,UAAW+M,EACXlQ,KAAMiB,GAAeN,UAAU5C,WAEjC0C,GAAOG,KAAK,aAAc,CACxBuC,UAAW+M,EACXlQ,KAAMiB,GAAeN,UAAU5C,kBAwFrCmP,YAAaA,EACbhK,WAAYgE,IAEd,cAAC4B,EAAD,CACEY,WAAY4F,GACZ7O,OAAQA,GACR8E,MAAOqH,IAET,cAACvC,GAAD,CACE5J,OAAQA,GACRiJ,WAAY6F,GACZhK,MAAOsH,IAET,cAAC9B,GAAD,CACEnI,YAAa+I,GACblL,OAAQA,GACRiJ,WAAY+F,GACZlK,MAAOuH,IAET,cAAC9B,GAAD,CACEtB,WAAY8F,GACZjK,MAAOyH,EACPvM,OAAQA,SChaD0P,OAjBf,SAAgBC,GAEZ,IAAMC,EAAW,CACbC,WAAY,OAAOF,EAAQG,gBAAgB,KAEzCC,EAAc,CAChBC,gBAAiBL,EAAQM,aAE7B,OACI,sBAAKzO,UAAU,aAAf,UACI,qBAAKG,MAAM,QAAQkB,MAAO+M,IAC1B,qBAAKjO,MAAM,SAASkB,MAAOkN,QCXnCG,GAAY,CAAC,QAAS,WAE1B,SAASC,KAA2Q,OAA9PA,GAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAItR,EAAI,EAAGA,EAAIuR,UAAUxR,OAAQC,IAAK,CAAE,IAAIwR,EAASD,UAAUvR,GAAI,IAAK,IAAIgL,KAAOwG,EAAcJ,OAAOK,UAAUC,eAAeC,KAAKH,EAAQxG,KAAQsG,EAAOtG,GAAOwG,EAAOxG,IAAY,OAAOsG,GAAkBH,GAASS,MAAMtR,KAAMiR,WAEhT,SAASM,GAAyBL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkExG,EAAKhL,EAAnEsR,EAEzF,SAAuCE,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DxG,EAAKhL,EAA5DsR,EAAS,GAAQS,EAAaX,OAAOY,KAAKR,GAAqB,IAAKxR,EAAI,EAAGA,EAAI+R,EAAWhS,OAAQC,IAAOgL,EAAM+G,EAAW/R,GAAQ8R,EAASG,QAAQjH,IAAQ,IAAasG,EAAOtG,GAAOwG,EAAOxG,IAAQ,OAAOsG,EAFxMY,CAA8BV,EAAQM,GAAuB,GAAIV,OAAOe,sBAAuB,CAAE,IAAIC,EAAmBhB,OAAOe,sBAAsBX,GAAS,IAAKxR,EAAI,EAAGA,EAAIoS,EAAiBrS,OAAQC,IAAOgL,EAAMoH,EAAiBpS,GAAQ8R,EAASG,QAAQjH,IAAQ,GAAkBoG,OAAOK,UAAUY,qBAAqBV,KAAKH,EAAQxG,KAAgBsG,EAAOtG,GAAOwG,EAAOxG,IAAU,OAAOsG,EAMne,SAASgB,GAAaC,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfnR,EAAQsQ,GAAyBU,EAAMrB,IAE3C,OAAoB,gBAAoB,MAAOC,GAAS,CACtDwB,MAAO,6BACPC,MAAO,eACPC,OAAQ,eACRC,QAAS,4BACTC,oBAAqB,gBACrBhK,IAAKyJ,EACL,kBAAmBE,GAClBnR,GAAQkR,EAAqB,gBAAoB,QAAS,CAC3D/T,GAAIgU,GACHD,GAAS,KAAmB,gBAAoB,IAAK,CACtDO,UAAW,2DACXC,KAAM,UACNC,OAAQ,QACM,gBAAoB,OAAQ,CAC1CrP,MAAO,CACLoP,KAAM,UAERE,EAAG,gpEACY,gBAAoB,OAAQ,CAC3CtP,MAAO,CACLoP,KAAM,aAERE,EAAG,kyBAIP,IAAIC,GAA0B,aAAiBd,I,IAChC,I,kBCnCTjS,GAAiB,IAAIvB,EACrB0C,GAAiB,IAAIpB,EA2E3B,SAASiT,GAAYC,GACnBA,EAAMC,iBAENlT,GACGY,cAAc,OAAQ,CACrB,IAAId,EAAiB,WAAYd,IAAE,kBAAkBmU,OACrD,IAAIrT,EAAiB,WAAYsT,kBAAOpU,IAAE,kBAAkBmU,UAE7DpQ,MAAK,SAACzD,GACa,SAAdA,EAAKmG,MAIPtE,GAAekS,MACb/T,EAAKyC,KACLzC,EAAKpB,MACLoB,EAAKnB,OACLmB,EAAKlB,MACLkB,EAAKjB,IARPW,IAAE,oBAAoBuF,YAAY,WAc3B+O,OAlGf,WACE,OACE,sBAAKnR,UAAU,WAAf,UACE,cAAC,GAAD,CACEyO,YAAY,UACZH,gBAAgB,0FAElB,qBAAKnO,MAAM,kDAAX,SACE,qBAAKA,MAAM,6BAAX,SACE,sBAAKA,MAAM,YAAX,UACE,mBAAGA,MAAM,iCAAiCiB,KAAK,GAA/C,SACE,qBAAKjB,MAAM,mBAAX,SACE,cAAC,GAAD,QAGJ,qBAAKA,MAAM,cAAX,SACE,6BACE,sBAAKA,MAAM,0BAAX,UACE,qBAAKH,UAAU,eAAf,kBACA,qBAAKA,UAAU,UAAf,0BAIN,sBAAKG,MAAM,YAAX,UACE,qBACEA,MAAM,4CACNjE,GAAG,kBACHkV,KAAK,QAHP,iDAOA,uBAAMC,OAAO,OAAOC,SAAUT,GAA9B,UACE,sBAAK1Q,MAAM,aAAX,UACE,uBAAOoR,IAAI,qBAAX,sBACA,uBACE/M,KAAK,OACLrE,MAAM,+BACNP,KAAK,eACL1D,GAAG,gBACH,mBAAiB,YACjB8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,wBAAX,mBACA,uBACE/M,KAAK,WACLrE,MAAM,+BACNP,KAAK,WACL1D,GAAG,gBACH8M,UAAQ,OAIZ,sBAAKhJ,UAAU,cAAf,mDAEE,oBAAGG,MAAM,cAAciB,KAAK,cAA5B,UACG,IADH,YAMF,wBAAQoD,KAAK,SAASrE,MAAM,yBAA5B,gDClEVtC,GAAiB,IAAIvB,EAyI3B,SAASkV,GAAWV,GAClBA,EAAMC,iBAEFlU,IAAE,0BAA0BmU,OAASnU,IAAE,0BAA0BmU,MAKrEnT,GACGY,cAAc,OAAQ,CACrB,IAAId,EAAiB,WAAYd,IAAE,0BAA0BmU,OAC7D,IAAIrT,EACF,WACAsT,KAAOpU,IAAE,0BAA0BmU,QAErC,IAAIrT,EAAiB,QAASd,IAAE,uBAAuBmU,OACvD,IAAIrT,EAAiB,SAAUd,IAAE,wBAAwBmU,OACzD,IAAIrT,EAAiB,QAASd,IAAE,qBAAqBmU,OACrD,IAAIrT,EAAiB,OAAQ,kBAE9BiD,MAAK,SAACzD,GAUX,IAAkBkB,EATM,cAAdlB,EAAKmG,OASGjF,EALD,SAMfL,OAAOK,SAASC,QAAQD,IATlBxB,IAAE,eAAeuF,YAAY,WAlBjCvF,IAAE,cAAcuF,YAAY,QA8BjBqP,OAzKf,WACE,OACE,sBAAKzR,UAAU,WAAf,UACE,cAAC,GAAD,CACEyO,YAAY,UACZH,gBAAgB,0FAElB,qBAAKnO,MAAM,kDAAX,SACE,qBAAKA,MAAM,6BAAX,SACE,sBAAKA,MAAM,YAAX,UACE,mBAAGA,MAAM,iCAAiCiB,KAAK,GAA/C,SACE,qBAAKjB,MAAM,mBAAX,SACE,cAAC,GAAD,QAGJ,sBAAKA,MAAM,cAAX,UACE,6BACE,sBAAKA,MAAM,0BAAX,UACE,qBAAKH,UAAU,eAAf,kBACA,qBAAKA,UAAU,UAAf,wBAGJ,6BACE,sBAAKG,MAAM,+BAAX,UACE,qBAAKH,UAAU,eAAf,0BACA,qBAAKA,UAAU,UAAf,wBAIN,sBAAKG,MAAM,YAAX,UACE,qBACEA,MAAM,4CACNjE,GAAG,aACHkV,KAAK,QAHP,6CAOA,qBACEjR,MAAM,4CACNjE,GAAG,mBACHkV,KAAK,QAHP,+CAOA,qBACEjR,MAAM,4CACNjE,GAAG,YACHkV,KAAK,QAHP,qCAQA,uBAAMC,OAAO,OAAOC,SAAUE,GAA9B,UACE,sBAAKrR,MAAM,aAAX,UACE,uBAAOoR,IAAI,wBAAX,0CACA,uBACE/M,KAAK,OACLrE,MAAM,+BACNP,KAAK,OACL1D,GAAG,wBACH8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,qBAAX,oBACA,uBACE/M,KAAK,OACLrE,MAAM,+BACNP,KAAK,QACL1D,GAAG,qBACH,mBAAiB,YACjB8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,wBAAX,mBACA,uBACE/M,KAAK,WACLrE,MAAM,+BACNP,KAAK,WACL1D,GAAG,wBACH8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,wBAAX,4BACA,uBACE/M,KAAK,WACLrE,MAAM,+BACNP,KAAK,mBACL1D,GAAG,wBACH8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,sBAAX,wCACA,uBACE/M,KAAK,SACLrE,MAAM,+BACNP,KAAK,OACL1D,GAAG,sBACH8M,UAAQ,OAGZ,sBAAK7I,MAAM,aAAX,UACE,uBAAOoR,IAAI,mBAAX,+BACA,uBACE/M,KAAK,OACLrE,MAAM,+BACNP,KAAK,QACL1D,GAAG,mBACH8M,UAAQ,OAIZ,sBAAKhJ,UAAU,cAAf,kEAEE,oBAAGG,MAAM,cAAciB,KAAK,WAA5B,UACG,IADH,YAMF,wBAAQoD,KAAK,SAASrE,MAAM,yBAA5B,0CCvHDuR,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhR,MAAK,YAAkD,IAA/CiR,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,iBCMdO,IAASC,OACP,cAAC,KAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW9H,KACjC,cAAC,KAAD,CAAO4H,OAAK,EAACC,KAAK,SAASC,UAAWnB,KACtC,cAAC,KAAD,CAAOiB,OAAK,EAACC,KAAK,YAAYC,UAAWb,UAG7CtH,SAASoI,eAAe,SAG1Bb,M","file":"static/js/main.bf500880.chunk.js","sourcesContent":["import { useEffect, useState, useRef } from 'react';\r\nimport UserController from '../../Controllers/UserController';\r\nimport { Peer } from 'simple-peer';\r\n\r\nvar user;\r\nvar reciever;\r\nvar chatHandler;\r\nvar classess;\r\nfunction SidebarUser(props) {\r\n  const userController = new UserController();\r\n  const [onCall, setOnCall] = useState(false);\r\n  const [muted, setMuted] = useState(false);\r\n\r\n  var onCallRef = useRef(onCall);\r\n  var mutedRef = useRef(muted);\r\n\r\n  onCallRef.current = onCall;\r\n  mutedRef.current = muted;\r\n\r\n  useEffect(() => {\r\n    props.socket.on('pickCall', (data) => {\r\n      if (data.name == props.reciever) {\r\n        setOnCall(true);\r\n      }\r\n    });\r\n    props.socket.on('leaveCall', (data) => {\r\n      if (data.name == props.reciever) {\r\n        setOnCall(false);\r\n      }\r\n    });\r\n\r\n    props.socket.on('mute', (data) => {\r\n      if (data.name == props.reciever) {\r\n        setMuted(true);\r\n      }\r\n    });\r\n    props.socket.on('unmute', (data) => {\r\n      if (data.name == props.reciever) {\r\n        setMuted(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  if (props.online == 1) {\r\n    classess = 'ball online';\r\n  } else if (props.online == 0) {\r\n    classess = 'ball offline';\r\n  } else {\r\n    classess = 'ball paused';\r\n  }\r\n  const [online, setOnline] = useState(\r\n    props.online ? 'ball online' : 'ball offline'\r\n  );\r\n  reciever = props.reciever;\r\n  chatHandler = props.chatHandler;\r\n  const handleChange = () =>\r\n    userController.getUser().username == props.reciever\r\n      ? null\r\n      : props.handleInputUser(props.reciever);\r\n\r\n  props.socket.on('clientOnline', function (data) {\r\n    if (data.user == props.reciever) {\r\n      setOnline('ball online');\r\n    }\r\n  });\r\n\r\n  props.socket.on('clientOffline', function (data) {\r\n    if (data.user == props.reciever) {\r\n      setOnline('ball offline');\r\n    }\r\n  });\r\n\r\n  props.socket.on('clientPause', function (data) {\r\n    if (data.user == props.reciever) {\r\n      setOnline('ball paused');\r\n    }\r\n  });\r\n\r\n  var icon = () => {\r\n    if (onCallRef.current && mutedRef.current) {\r\n      return (\r\n        <div>\r\n          <i class='fas fa-satellite-dish'></i>\r\n          <i class='fas fa-microphone-slash' aria-hidden='true'></i>\r\n        </div>\r\n      );\r\n    }\r\n    if (onCallRef.current) {\r\n      return <i class='fas fa-satellite-dish'></i>;\r\n    }\r\n\r\n    if (mutedRef.current) {\r\n      return <i class='fas fa-microphone-slash' aria-hidden='true'></i>;\r\n    }\r\n\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <a className='userButton' onClick={handleChange}>\r\n        <div className='row'>\r\n          <div className='col-2'>\r\n            <span class={online}></span>\r\n          </div>\r\n          <div className='col-6'>{reciever}</div>\r\n          <div className='col-4'>{icon()}</div>\r\n        </div>\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default SidebarUser;\r\n","import React from \"react\";\r\n\r\n\r\nclass User extends React.Component{\r\n\r\n    username = \"\";\r\n    email = \"\";\r\n    number = \"\";\r\n    birth = \"\";\r\n    id = null;\r\n    \r\n\r\n    constructor(username,email,number,birth, id){\r\n        super();\r\n        this.username = username;\r\n        this.email = email;\r\n        this.number = number;\r\n        this.birth = birth;\r\n        this.id = id;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default User;","export const enviroment = {\r\n  API_ENDPOINT: 'https://beepspaceapi.cekuj.net/BeepSpaceAPI/beepSpaceAPI/www/',\r\n  LOCAL_IP: '10.0.2.15',\r\n};\r\n","import $ from 'jquery';\r\nimport React from 'react';\r\nimport { enviroment } from '../enviroments/enviroment';\r\n\r\nclass RequestHandler extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  async jSONrequester(requestType, requestParameter) {\r\n    return new Promise((resolve, reject) => {\r\n      $.ajax({\r\n        url:\r\n          enviroment.API_ENDPOINT +\r\n          requestType +\r\n          '?' +\r\n          this.parameterForming(requestParameter),\r\n        async: true,\r\n\r\n        success: (data) => {\r\n          resolve(data);\r\n        },\r\n        error: (data) => {\r\n          reject(data);\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  parameterForming(parametersArray) {\r\n    var returnString = '';\r\n    if (parametersArray.length > 0) {\r\n      for (let i = 0; i < parametersArray.length; i++) {\r\n        if (i + 1 == parametersArray.length) {\r\n          returnString =\r\n            returnString +\r\n            parametersArray[i].parameterName +\r\n            '=' +\r\n            parametersArray[i].parameterContent;\r\n        } else {\r\n          returnString =\r\n            returnString +\r\n            parametersArray[i].parameterName +\r\n            '=' +\r\n            parametersArray[i].parameterContent +\r\n            '&';\r\n        }\r\n      }\r\n    }\r\n\r\n    return returnString;\r\n  }\r\n}\r\n\r\nexport default RequestHandler;\r\n","import React from 'react';\r\n\r\nclass ParameterHandler extends  React.Component{\r\n    parameterName = \"\";\r\n    parameterContent = \"\";\r\n\r\n    constructor(parameterName,parameterContent){\r\n        super();\r\n        this.parameterContent = parameterContent;\r\n        this.parameterName = parameterName;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport default ParameterHandler;","import React from \"react\";\r\nimport User from \"../Entity/UserEntity\";\r\nimport RequestHandler from \"../Handlers/RequestHandler\";\r\nimport ParameterHandler from \"../Handlers/ParameterHandler\";\r\nclass UserController extends React.Component {\r\n\r\n\r\n  constructor() {\r\n    super();\r\n    this.requestHandler = new RequestHandler();\r\n  }\r\n\r\n\r\n\r\n  logIn(username, email, number, birth, id) {\r\n    this.user = new User(username, email, number, birth, id);\r\n    window.sessionStorage.setItem(\"user\", JSON.stringify(this.user));\r\n    window.location.replace(\"/\");\r\n\r\n\r\n  }\r\n\r\n\r\n  isLoggedIn() {\r\n    if (window.sessionStorage.getItem(\"user\") != null) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n\r\n  logOut(socket) {\r\n    this.requestHandler.jSONrequester(\"User\", [\r\n      new ParameterHandler(\"type\", \"SET-OFFLINE\"),\r\n      new ParameterHandler(\"id\", this.getUser().id)\r\n    ]);\r\n    socket.emit(\"disconnectUser\", {\r\n      user: this.getUser().username\r\n    });\r\n    window.sessionStorage.setItem(\"user\", null);\r\n    window.location.replace(\"/login\");\r\n  }\r\n\r\n\r\n\r\n  getUser() {\r\n    if (this.isLoggedIn()) {\r\n      return JSON.parse(window.sessionStorage.getItem(\"user\"));\r\n    } else {\r\n      window.location.replace(\"/login\");\r\n\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default UserController;","import UserController from '../../Controllers/UserController';\r\nimport RequestHandler from '../../Handlers/RequestHandler';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport { useEffect } from 'react';\r\nimport SidebarUser from './sidebarUser';\r\nimport { useState, useRef } from 'react';\r\n\r\nconst userController = new UserController();\r\n\r\nexport default function SidebarGroupchat(props) {\r\n  useEffect(() => {\r\n    props.socket.on('joinedChannel', (data) => {\r\n      joinChannel(data);\r\n    });\r\n    props.socket.on('disconnectedChanel', function (data) {\r\n      setActiveUsers(\r\n        activeUsersRef.current.filter((item) => {\r\n          return item.props.reciever != data.user;\r\n        })\r\n      );\r\n    });\r\n    let cancel = false;\r\n    requestHandler\r\n      .jSONrequester('Groupchat', [\r\n        new ParameterHandler('type', 'ACTIVE-USERS'),\r\n        new ParameterHandler('id', props.groupchatID),\r\n      ])\r\n      .then((data) => {\r\n        if (cancel) return;\r\n        setActiveUsers(generateArray(data));\r\n      });\r\n    return () => {\r\n      cancel = true;\r\n    };\r\n  }, []);\r\n\r\n  var rendered = false;\r\n  const requestHandler = new RequestHandler();\r\n\r\n  const [activeUsers, setActiveUsers] = useState([]);\r\n  const activeUsersRef = useRef(activeUsers);\r\n  activeUsersRef.current = activeUsers;\r\n\r\n  const generateArray = (arr) => {\r\n    return arr.map((data, id) => {\r\n      return (\r\n        <SidebarUser\r\n          handleInputUser={props.handleInputUser}\r\n          key={id}\r\n          user={userController.getUser().username}\r\n          online={true}\r\n          socket={props.socket}\r\n          activeUser={props.activeUser}\r\n          reciever={data.name}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  const joinChannel = (data) => {\r\n    if (data.channelID == props.name) {\r\n      if (activeUsersRef.current.length) {\r\n        if (\r\n          !activeUsersRef.current.some((item) => {\r\n            return item.props.reciever == data.user;\r\n          })\r\n        ) {\r\n          setActiveUsers((activeUsers) => [\r\n            ...activeUsers,\r\n            <SidebarUser\r\n              handleInputUser={props.handleInputUser}\r\n              user={userController.getUser().username}\r\n              online={true}\r\n              socket={props.socket}\r\n              activeUser={props.activeUser}\r\n              reciever={data.user}\r\n            />,\r\n          ]);\r\n        }\r\n      } else {\r\n        setActiveUsers((activeUsers) => [\r\n          ...activeUsers,\r\n          <SidebarUser\r\n            handleInputUser={props.handleInputUser}\r\n            user={userController.getUser().username}\r\n            online={true}\r\n            socket={props.socket}\r\n            reciever={data.user}\r\n            activeUser={props.activeUser}\r\n          />,\r\n        ]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChange = () => {\r\n    props.handleInputGroupchat(props.groupchatID, props.name);\r\n  };\r\n\r\n  return (\r\n    <div class='wholeSidebarGroupchat'>\r\n      <li>\r\n        <a href='#' style={{ color: props.color }} onClick={handleChange}>\r\n          <h4>{props.name}</h4>\r\n        </a>\r\n      </li>\r\n      <div class='ml-3'>{activeUsers}</div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/JoinChannel.c211769d.mp3\";","import { useState } from \"react\";\r\nimport UserController from \"../Controllers/UserController\";\r\nimport useSound from 'use-sound';\r\nimport joinSound from \"../storage/sounds/JoinChannel.mp3\";\r\n\r\nconst userController = new UserController();\r\n\r\nexport default function SpaceCall(props){\r\n    const [connectedState,setConnectedState] = useState(false);\r\n    const [playJoin] = useSound(\r\n      joinSound\r\n    );\r\n  \r\n    \r\n    const joinSpace = () =>{\r\n      if(!connectedState){\r\n        props.socket.emit(\"joinSpace\",{\r\n          user: userController.getUser().username,\r\n          connectTo: props.user\r\n        });\r\n        playJoin();\r\n        setConnectedState(true);\r\n        return;\r\n      }\r\n      props.socket.emit(\"leaveSpace\",{\r\n        user: userController.getUser().username,\r\n        connectTo: props.user\r\n      });\r\n      setConnectedState(false);\r\n\r\n     \r\n    }\r\n\r\n\r\nif(props.user){\r\n  return(\r\n    <div class='row'>\r\n      <div class='col-12'>\r\n        <button onClick={joinSpace} class='btn topBoxButton w-100'>\r\n          <i class=\"fas fa-satellite-dish\"></i>\r\n          <h3>{props.user}</h3>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}else{\r\n  return null;\r\n}\r\n    \r\n}","import SidebarUser from './smallComponents/sidebarUser';\r\nimport { useState } from 'react';\r\nimport UserController from '../Controllers/UserController';\r\nimport RequestHandler from '../Handlers/RequestHandler';\r\nimport ParameterHandler from '../Handlers/ParameterHandler';\r\nimport SidebarGroupchat from './smallComponents/SidebarGroupchat';\r\nimport $ from 'jquery';\r\nimport React from 'react';\r\nimport { useEffect } from 'react';\r\nimport SpaceCall from './SpaceCall';\r\nconst userController = new UserController();\r\nconst requestHandler = new RequestHandler(\r\n  'http://localhost/Github/BeepSpace/BeepSpaceAPI/beepSpaceAPI/www/'\r\n);\r\nvar rendered = false;\r\nvar groupChatRendered = false;\r\n\r\nvar renderUser = {\r\n  username: '',\r\n  rendered: false,\r\n};\r\n\r\nfunction Sidebar(props) {\r\n  const [mute, setMute] = useState(false);\r\n  const [userArray, setUserArray] = useState([]);\r\n  const [groupchatArray, setGroupchatArray] = useState([]);\r\n\r\n  useEffect(() => {\r\n    requestHandler\r\n      .jSONrequester('User', [new ParameterHandler('type', 'ALL')])\r\n      .then((data) => {\r\n        generateArray(data).then((data) => {\r\n          setUserArray(data);\r\n        });\r\n      });\r\n\r\n    requestHandler\r\n      .jSONrequester('Groupchat', [\r\n        new ParameterHandler('type', 'ALL'),\r\n        new ParameterHandler('user', userController.getUser().username),\r\n      ])\r\n      .then((data) => {\r\n        setGroupchatArray(generateGroupChatArray(data));\r\n      });\r\n\r\n    props.socket.on('kick', () => {\r\n      userController.logOut(props.socket);\r\n    });\r\n\r\n    props.socket.on('groupchatCreated', (data) => {\r\n      if (data.id == userController.getUser().id) {\r\n        groupChatRendered = !groupChatRendered;\r\n        requestHandler\r\n          .jSONrequester('Groupchat', [\r\n            new ParameterHandler('type', 'ALL'),\r\n            new ParameterHandler('user', userController.getUser().username),\r\n          ])\r\n          .then(() => {\r\n            setGroupchatArray(generateGroupChatArray(data));\r\n          });\r\n      }\r\n    });\r\n\r\n    props.socket.on('addLocalChannel', (data) => {\r\n      groupChatRendered = !groupChatRendered;\r\n      requestHandler\r\n        .jSONrequester('Groupchat', [\r\n          new ParameterHandler('type', 'ALL'),\r\n          new ParameterHandler('user', userController.getUser().username),\r\n        ])\r\n        .then((data) => {\r\n          setGroupchatArray(generateGroupChatArray(data));\r\n        });\r\n    });\r\n\r\n    props.socket.on('removeFriend', (data) => {\r\n      if (data.reciever == userController.getUser().username)\r\n        removeUser(data.origin);\r\n    });\r\n\r\n    props.socket.on('addLocalUser', function (data) {\r\n      if (data.origin == userController.getUser().username) {\r\n        var newUser;\r\n        requestHandler\r\n          .jSONrequester('User', [\r\n            new ParameterHandler('type', 'ONE'),\r\n            new ParameterHandler('username', data.reciever),\r\n          ])\r\n          .then((data) => {\r\n            newUser = data;\r\n            if (renderUser.username != newUser.name) {\r\n              renderUser.username = newUser.name;\r\n              renderUser.rendered = false;\r\n            }\r\n            if (!renderUser.rendered) {\r\n              setUserArray((userArray) => [\r\n                ...userArray,\r\n                <SidebarUser\r\n                  handleInputUser={props.handleInputUser}\r\n                  user={userController.getUser().username}\r\n                  online={newUser.online}\r\n                  socket={props.socket}\r\n                  reciever={newUser.name}\r\n                />,\r\n              ]);\r\n              renderUser.rendered = true;\r\n            }\r\n            return;\r\n          });\r\n      } else if (data.reciever == userController.getUser().username) {\r\n        var newUser;\r\n        requestHandler\r\n          .jSONrequester('User', [\r\n            new ParameterHandler('type', 'ONE'),\r\n            new ParameterHandler('username', data.origin),\r\n          ])\r\n          .then((data) => {\r\n            newUser = data;\r\n            if (renderUser.username != newUser.name) {\r\n              renderUser.username = newUser.name;\r\n              renderUser.rendered = false;\r\n            }\r\n            if (!renderUser.rendered) {\r\n              setUserArray((userArray) => [\r\n                ...userArray,\r\n                <SidebarUser\r\n                  handleInputUser={props.handleInputUser}\r\n                  user={userController.getUser().username}\r\n                  online={newUser.online}\r\n                  socket={props.socket}\r\n                  activeUser={props.activeUser}\r\n                  reciever={newUser.name}\r\n                />,\r\n              ]);\r\n              renderUser.rendered = true;\r\n            }\r\n            return;\r\n          });\r\n      }\r\n      return;\r\n    });\r\n  }, []);\r\n\r\n  const removeUser = (user) => {\r\n    setUserArray(\r\n      userArray.filter((item) => {\r\n        if (item != undefined) {\r\n          return item.props.reciever != user;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  const generateArray = (arr) => {\r\n    if (!rendered) {\r\n      rendered = true;\r\n      return Promise.all(\r\n        arr.map((data, id) => {\r\n          var friendsState;\r\n          return requestHandler\r\n            .jSONrequester('User', [\r\n              new ParameterHandler('type', 'IS-FRIENDS'),\r\n              new ParameterHandler('id', userController.getUser().id),\r\n              new ParameterHandler('id2', data.id),\r\n            ])\r\n            .then((promiseData) => {\r\n              friendsState = promiseData;\r\n              if (data.name != userController.getUser().username) {\r\n                if (friendsState.state) {\r\n                  return (\r\n                    <SidebarUser\r\n                      handleInputUser={props.handleInputUser}\r\n                      key={id}\r\n                      user={userController.getUser().username}\r\n                      online={data.online}\r\n                      socket={props.socket}\r\n                      activeUser={props.activeUser}\r\n                      reciever={data.name}\r\n                    />\r\n                  );\r\n                }\r\n              }\r\n            });\r\n        })\r\n      ).then((data) => {\r\n        return data;\r\n      });\r\n    }\r\n  };\r\n\r\n  const generateGroupChatArray = (arr) => {\r\n    if (!groupChatRendered) {\r\n      groupChatRendered = true;\r\n      return arr.map((data, id) => {\r\n        return (\r\n          <SidebarGroupchat\r\n            handleInputUser={props.handleInputUser}\r\n            color={data.color}\r\n            key={id}\r\n            handleInputGroupchat={props.handleInputGroupchat}\r\n            activeUser={props.activeUser}\r\n            socket={props.socket}\r\n            groupchatID={data.id}\r\n            name={data.name}\r\n          />\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  const logOut = () => {\r\n    userController.logOut(props.socket);\r\n  };\r\n  const muteFunction = () => {\r\n    if (!mute) {\r\n      props.socket.emit('muteSelf', {\r\n        user: userController.getUser().username,\r\n      });\r\n      setMute(true);\r\n      return;\r\n    }\r\n    props.socket.emit('unmuteSelf', {\r\n      user: userController.getUser().username,\r\n    });\r\n    setMute(false);\r\n  };\r\n  return (\r\n    <aside id='sidebar' class='nano'>\r\n      <div class='nano-content'>\r\n        <div class='row text-center mx-auto'>\r\n          <div class='col crossIconCol'>\r\n            <i class='fas fa-times crossIcon'></i>\r\n          </div>\r\n        </div>\r\n        <div class='row text-center mx-auto'>\r\n          <div class='col mt-3 userBox pb-3 text-center'>\r\n            <h1>{userController.getUser().username}</h1>\r\n\r\n            <div class='row'>\r\n              <div class='col'>\r\n                <button class='btn topBoxButton' onClick={props.setModalShow}>\r\n                  <i class='fas fa-search'></i>\r\n                </button>\r\n              </div>\r\n              <div class='col'>\r\n                <button class='btn topBoxButton' onClick={showCallButtons}>\r\n                  <i class='fab fa-connectdevelop'></i>\r\n                </button>\r\n              </div>\r\n              <div class='col'>\r\n                <button onClick={logOut} class='btn topBoxButton'>\r\n                  <i class='fas fa-sign-out-alt'></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class='row'>\r\n              <div class='col-12'>\r\n                <button\r\n                  class='btn topBoxButton w-100'\r\n                  onClick={props.setNModalShow}\r\n                >\r\n                  <i class='fas fa-mail-bulk'></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div id='callButtons' class='row d-none'>\r\n              <div class='col'>\r\n                <button onClick={muteFunction} class='btn topBoxButton'>\r\n                  <i class='fas fa-microphone-slash'></i>\r\n                </button>\r\n              </div>\r\n              <div class='col'>\r\n                <button class='btn topBoxButton'>\r\n                  <i class='fas fa-headphones-alt'></i>\r\n                </button>\r\n              </div>\r\n              <div class='col'>\r\n                <button onClick={logOut} class='btn topBoxButton'>\r\n                  <i class='fas fa-sign-out-alt'></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='row text-center mx-auto'>\r\n          <div class='col mt-3 pb-3 text-center'>\r\n            <SpaceCall\r\n              socket={props.socket}\r\n              user={props.activeUser}\r\n            ></SpaceCall>\r\n          </div>\r\n        </div>\r\n        <menu class='menu-segment'>\r\n          <ul class='chat'>\r\n            <li class='title'>\r\n              Prostory\r\n              <span class='icon'>\r\n                <a onClick={props.setCModalShow} class='addGroup'>\r\n                  +\r\n                </a>\r\n              </span>\r\n            </li>\r\n            {groupchatArray}\r\n          </ul>\r\n        </menu>\r\n\r\n        <div class='separator'></div>\r\n        <div class='menu-segment'>\r\n          <ul class='chat'>\r\n            <li class='title'>\r\n              Seznam přátel <span class='icon'></span>\r\n            </li>\r\n            {userArray}\r\n          </ul>\r\n        </div>\r\n        <div class='bottom-padding'></div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\nfunction showCallButtons() {\r\n  if ($('#callButtons').hasClass('d-none')) {\r\n    $('#callButtons').removeClass('d-none');\r\n    return;\r\n  }\r\n\r\n  $('#callButtons').addClass('d-none');\r\n}\r\n\r\nexport default Sidebar;\r\n","import AOS from 'aos';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Message(props) {\r\n\r\n    useEffect(() => {\r\n        AOS.init();\r\n    }, []);\r\n\r\n\r\n    var classes = \"message\";\r\n    var owner = \"\";\r\n    if (props.last) {\r\n        classes = classes + \" last\"\r\n    }\r\n    if (props.owner) {\r\n        owner = \"mine messages\";\r\n    } else {\r\n        owner = \"yours messages\"\r\n    }\r\n    return (\r\n\r\n        <div data-aos={\"fade-down\"} class={owner}>\r\n            <div class={classes}>\r\n                {props.content}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport Message from '../components/smallComponents/chatComponents/message';\r\nimport ParameterHandler from '../Handlers/ParameterHandler';\r\nimport RequestHandler from '../Handlers/RequestHandler';\r\nimport UserController from './UserController';\r\nclass MessageController extends React.Component {\r\n  socket;\r\n\r\n  constructor(socket) {\r\n    super();\r\n    this.socket = socket;\r\n    this.requestHandler = new RequestHandler();\r\n    this.userController = new UserController();\r\n  }\r\n\r\n  async returnAllMesages(messages) {\r\n    return new Promise((resolve, reject) => {\r\n      var arrOfMesages = [];\r\n      for (let i = 0; i < messages.length; i++) {\r\n        if (i != messages.length - 1) {\r\n          if (messages[i + 1].mine != messages[i].mine) {\r\n            arrOfMesages.push(\r\n              <Message\r\n                content={messages[i].content}\r\n                owner={messages[i].mine}\r\n                last={true}\r\n              />\r\n            );\r\n          } else {\r\n            arrOfMesages.push(\r\n              <Message\r\n                content={messages[i].content}\r\n                owner={messages[i].mine}\r\n                last={false}\r\n              />\r\n            );\r\n          }\r\n        } else {\r\n          arrOfMesages.push(\r\n            <Message\r\n              content={messages[i].content}\r\n              owner={messages[i].mine}\r\n              last={true}\r\n            />\r\n          );\r\n        }\r\n      }\r\n      resolve(arrOfMesages);\r\n    });\r\n  }\r\n\r\n  pushNewMessage(content, mine, array) {\r\n    var arrOfMesages = array;\r\n\r\n    if (arrOfMesages == null) {\r\n      arrOfMesages = [];\r\n    }\r\n\r\n    arrOfMesages.push(<Message content={content} owner={mine} last={true} />);\r\n    return arrOfMesages;\r\n  }\r\n\r\n  sendMessage(content, reciever) {\r\n    this.requestHandler.jSONrequester('Message', [\r\n      new ParameterHandler('create', 1),\r\n      new ParameterHandler('user', this.userController.getUser().username),\r\n      new ParameterHandler('reciever', reciever),\r\n      new ParameterHandler('content', content),\r\n      new ParameterHandler('date', new Date()),\r\n    ]);\r\n\r\n    this.requestHandler\r\n      .jSONrequester('Notifications', [\r\n        new ParameterHandler('type', 'CREATENOTIF'),\r\n        new ParameterHandler('user', this.userController.getUser().username),\r\n        new ParameterHandler('reciever', reciever),\r\n        new ParameterHandler('date', new Date()),\r\n        new ParameterHandler('content', content),\r\n      ])\r\n      .then(() => {\r\n        this.socket.emit('notification', {\r\n          reciever: reciever,\r\n          origin: this.userController.getUser().username,\r\n          type: 'message',\r\n          content: content,\r\n          date: new Date(),\r\n          groupchatID: null,\r\n        });\r\n      });\r\n  }\r\n\r\n  sendGroupchatMessage(content, chatId) {\r\n    console.log(\r\n      this.requestHandler.jSONrequester('Message', [\r\n        new ParameterHandler('create', 1),\r\n        new ParameterHandler('user', this.userController.getUser().username),\r\n        new ParameterHandler('reciever', 0),\r\n        new ParameterHandler('content', content),\r\n        new ParameterHandler('date', new Date()),\r\n        new ParameterHandler('isChatMessage', 1),\r\n        new ParameterHandler('chatId', chatId),\r\n      ])\r\n    );\r\n  }\r\n}\r\n\r\nexport default MessageController;\r\n","import React, { Component } from \"react\";\r\nimport $ from 'jquery'\r\nimport UserController from \"../Controllers/UserController\";\r\nimport RequestHandler from \"./RequestHandler\";\r\nimport MessageController from \"../Controllers/MessageController\";\r\nimport ParameterHandler from \"./ParameterHandler\";\r\n\r\nclass ChatHandler extends Component {\r\n   \r\n    chat = [];\r\n\r\n    constructor() {\r\n        super();\r\n        this.userController = new UserController();\r\n        this.requestHandler = new RequestHandler();\r\n        this.messageController = new MessageController();\r\n    }\r\n    \r\n    openInviteModal =() => this.props.openInviteModal();\r\n    removeFriend = () => {\r\n        const activeUser = this.requestHandler.jSONrequester(\"User\",[\r\n            new ParameterHandler(\"type\", \"ONE\"),\r\n            new ParameterHandler(\"username\", this.props.chatUser)\r\n        ]);\r\n        this.requestHandler.jSONrequester(\"User\",[\r\n            new ParameterHandler(\"type\", \"REMOVE-FRIEND\"),\r\n            new ParameterHandler(\"id\", this.userController.getUser().id),\r\n            new ParameterHandler(\"id2\", activeUser.id)\r\n        ]);\r\n        this.props.socket.emit(\"unfriend\",{\r\n            user: this.userController.getUser().username,\r\n            reciever:  this.props.chatUser\r\n        });\r\n        window.location.reload(false);\r\n        }\r\n\r\n    render() {\r\n        var userRmvButton = \"\";\r\n        var userLeaveGroup = \"\";\r\n        var userInviteButton = \"\";\r\n        if(this.props.chatUser){\r\n            if(!this.props.isChatGroupchat){\r\n                userRmvButton= <div class=\"col-md-2 col-4\"><button onClick={this.removeFriend} class=\"btn topBoxButton buttonCustom\"><i class=\"fas fa-users-slash\"></i></button></div>;\r\n            }else{\r\n                userLeaveGroup = <div class=\"col-md-2 col-4\"><button class=\"btn topBoxButton buttonCustom\"><i class=\"fas fa-users-slash\"></i></button></div>;\r\n                userInviteButton= <div class=\"col-md-2 col-4\"><button onClick={this.openInviteModal} class=\"btn topBoxButton buttonCustom\"><i class=\"fas fa-user-plus\"></i></button></div>;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div class=\"h-75\">\r\n                <div class=\"nameBox row mx-auto \">                    \r\n                    { !this.props.isChatGroupchat ? <div class=\"col-md-10 col-8 text-left\"><h3 class=\"buttonCustom jmeno\">{this.props.chatUser}</h3></div> :  <div class=\"col-md-8 col-4 text-left\"><h3 class=\"buttonCustom jmeno\">{this.props.chatUser}</h3></div>}\r\n                    {userRmvButton}                    \r\n                    {userLeaveGroup}\r\n                    {userInviteButton}\r\n                </div>\r\n                <div id=\"messageBox\" class=\" messagesBox mx-auto h-100\">\r\n                    {this.props.messages}                \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.settingChat();\r\n    }\r\n\r\n    settingChat() {\r\n        $(function () {\r\n            $(\".messagesBox\").scrollTop(102391203810938120938100);\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport default ChatHandler;","import React, { Component } from \"react\"\r\nexport default class TextInput extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n        this.input = React.createRef()\r\n    }\r\n\r\n    sendMessage() {\r\n        if(this.input.current.value !=''){\r\n            if(this.props.isChatMessage){\r\n                this.props.sendGroupchatMessage(this.input.current.value);\r\n                this.input.current.value = ''\r\n            }else{\r\n                this.props.sendMessageFunction(this.input.current.value);\r\n                this.input.current.value = ''\r\n            }\r\n        }\r\n    }\r\n\r\n    sendMessageIfEnter(e) {\r\n        \r\n        if (e.keyCode === 13) {\r\n            this.sendMessage(e)\r\n        }\r\n    }\r\n    render() {\r\n        const sendMessage = this.sendMessage.bind(this)\r\n        const sendMessageIfEnter = this.sendMessageIfEnter.bind(this)\r\n\r\n\r\n        return (\r\n            <div class=\"row sendMessageRow mx-auto h-20\">\r\n\r\n                <input type=\"text\" placeholder=\"zadejte zprávu zde...\" ref={this.input} onKeyDown={sendMessageIfEnter} class=\" send-message col-10 mx-auto h-20 \"></input>\r\n                <button class=\"btn btn-odeslat col-2 h-20\" onClick={sendMessage}><i class=\"far fa-paper-plane\"></i></button>\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}","import RequestHandler from '../../Handlers/RequestHandler';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport UserController from '../../Controllers/UserController';\r\n\r\nexport default function ModalUser(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n  var button = null;\r\n  console.log(params.friendsState);\r\n\r\n  const addFriend = () => {\r\n    requestHandler.jSONrequester('Notifications', [\r\n      new ParameterHandler('type', 'CREATENOTIF'),\r\n      new ParameterHandler('user', userController.getUser().username),\r\n      new ParameterHandler('reciever', params.name),\r\n      new ParameterHandler('date', new Date()),\r\n      new ParameterHandler(\r\n        'content',\r\n        'nová žádost o přátelství od ' + userController.getUser().username\r\n      ),\r\n      new ParameterHandler('addNotification', 1),\r\n    ]);\r\n\r\n    params.socket.emit('notification', {\r\n      reciever: params.name,\r\n      origin: userController.getUser().id,\r\n      type: 'add',\r\n      content:\r\n        'nová žádost o přátelství od ' + userController.getUser().username,\r\n      date: new Date(),\r\n      groupchatID: null,\r\n    });\r\n  };\r\n\r\n  if (!params.friendsState) {\r\n    button = (\r\n      <div class=' tlacitko col-4'>\r\n        <button onClick={addFriend} class='btn btnPridat btn-success'>\r\n          Přidat\r\n        </button>\r\n      </div>\r\n    );\r\n  } else {\r\n    button = (\r\n      <div class='tlacitko col-4'>\r\n        <button class='btn btnOdebrat btn-gray'>Přátelé</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div class='row w-100 userLine'>\r\n      <div class='col-8'>{params.name}</div>\r\n      {button}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport ModalUser from '../modalUser';\r\nimport RequestHandler from '../../../Handlers/RequestHandler';\r\nimport ParameterHandler from '../../../Handlers/ParameterHandler';\r\nimport UserController from '../../../Controllers/UserController';\r\n\r\nvar allUsers = [];\r\nexport default function FriendModal(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const input = React.createRef();\r\n  useEffect(() => {\r\n    requestHandler\r\n      .jSONrequester('User', [new ParameterHandler('type', 'ALL')])\r\n      .then((data) => {\r\n        allUsers = data;\r\n        Promise.all(\r\n          allUsers.map((mapData, id) => {\r\n            return requestHandler\r\n              .jSONrequester('User', [\r\n                new ParameterHandler('type', 'IS-FRIENDS'),\r\n                new ParameterHandler('id', userController.getUser().id),\r\n                new ParameterHandler('id2', mapData.id),\r\n              ])\r\n              .then((state) => {\r\n                if (mapData.name == userController.getUser().username) return;\r\n                return (\r\n                  <ModalUser\r\n                    name={mapData.name}\r\n                    socket={params.socket}\r\n                    friendsState={state.state}\r\n                    userId={mapData.id}\r\n                    key={id}\r\n                  />\r\n                );\r\n              });\r\n          })\r\n        ).then((data) => {\r\n          setUsers(data);\r\n          allUsers = data;\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const search = () => {\r\n    setUsers(\r\n      allUsers.filter((data, id) => {\r\n        if (\r\n          data?.props.name\r\n            .toLowerCase()\r\n            .includes(input.current.value.toLowerCase())\r\n        ) {\r\n          return data;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  const searchOnEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n      search(e);\r\n    }\r\n  };\r\n\r\n  const liveSearch = () => {\r\n    setUsers(\r\n      allUsers.filter((data, id) => {\r\n        if (\r\n          data?.props.name\r\n            .toLowerCase()\r\n            .includes(input.current.value.toLowerCase())\r\n        ) {\r\n          return data;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal contentClassName='modalClasses' show={params.state}>\r\n      <Modal.Header>\r\n        <div class='row w-100'>\r\n          <div class='col-8'>\r\n            <h2>přidat přátele</h2>\r\n          </div>\r\n          <div class='col-2'></div>\r\n          <div class='col-1 text-right '>\r\n            <button class='btn modalCloseButton' onClick={params.closeModal}>\r\n              <i class='far fa-times-circle'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div class='row searchUser w-100 mb-5'>\r\n          <div class='col-8'>\r\n            <input\r\n              type='search'\r\n              class='form-control'\r\n              ref={input}\r\n              onChange={liveSearch}\r\n              onKeyDown={searchOnEnter}\r\n              placeholder='Hledat uživatele'\r\n              aria-label='Search'\r\n            />\r\n          </div>\r\n          <div class='col-4'>\r\n            <button\r\n              type='submit'\r\n              class='form-control '\r\n              onClick={search}\r\n              value=''\r\n              aria-label='Search'\r\n            >\r\n              <i class='fas fa-search'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class='separator'></div>\r\n        {users}\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n","import RequestHandler from '../../Handlers/RequestHandler';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport UserController from '../../Controllers/UserController';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function Notification(props) {\r\n  var notification;\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n  const [groupchat, setGroupchat] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (props.groupchatID) {\r\n      requestHandler\r\n        .jSONrequester('Groupchat', [\r\n          new ParameterHandler('type', 'GET-GROUPCHAT'),\r\n          new ParameterHandler('id', props.groupchatID),\r\n        ])\r\n        .then((data) => {\r\n          setGroupchat(data);\r\n        });\r\n    }\r\n  }, [props]);\r\n\r\n  const addFriend = () => {\r\n    requestHandler.jSONrequester('Notifications', [\r\n      new ParameterHandler('type', 'CONFIRM'),\r\n      new ParameterHandler('user', props.user),\r\n      new ParameterHandler('reciever', userController.getUser().username),\r\n      new ParameterHandler('id', props.notId),\r\n    ]);\r\n    props.socket.emit('addUser', {\r\n      localUser: userController.getUser().username,\r\n      username: props.user,\r\n    });\r\n    props.removeNotification(props.notId);\r\n  };\r\n\r\n  const decline = () => {\r\n    requestHandler.jSONrequester('Notifications', [\r\n      new ParameterHandler('type', 'REMOVEONE'),\r\n      new ParameterHandler('id', props.notId),\r\n    ]);\r\n    props.removeNotification(props.notId);\r\n  };\r\n\r\n  const acceptInvite = () => {\r\n    requestHandler\r\n      .jSONrequester('Groupchat', [\r\n        new ParameterHandler('type', 'ACCEPT-INVITE'),\r\n        new ParameterHandler('id', props.groupchatID),\r\n        new ParameterHandler('user', userController.getUser().username),\r\n      ])\r\n      .then(() => {\r\n        requestHandler\r\n          .jSONrequester('Notifications', [\r\n            new ParameterHandler('type', 'REMOVEONE'),\r\n            new ParameterHandler('id', props.notId),\r\n          ])\r\n          .then(() => {\r\n            props.socket.emit('addChannel', {\r\n              localUser: userController.getUser().username,\r\n              channel: props.groupchatID,\r\n            });\r\n            props.removeNotification(props.notId);\r\n          });\r\n      });\r\n  };\r\n\r\n  if (props.type == 'add') {\r\n    return (\r\n      <div class='row w-100 userLine'>\r\n        <div class='col-2'>\r\n          <i class='fas fa-user-plus'></i>\r\n        </div>\r\n        <div class='col-4'>{props.user}</div>\r\n        <div class=' tlacitko col-3'>\r\n          <button\r\n            onClick={addFriend}\r\n            class='btn w-100 btnPridat btnPrijmout btn-success'\r\n          >\r\n            <i class='fas fa-check'></i>\r\n          </button>\r\n        </div>\r\n        <div class='tlacitko col-3'>\r\n          <button\r\n            onClick={decline}\r\n            class='btn w-100 btnOdebrat btnOdmitnout btn-gray'\r\n          >\r\n            <i class='fas fa-times'></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (props.type == 'message') {\r\n    return (\r\n      <div class='row w-100 userLine'>\r\n        <div class='col-2'>\r\n          <i class='fas fa-envelope'></i>\r\n        </div>\r\n        <div class='col-4'>{props.user}</div>\r\n        <div class='col-6 notificationText'>{props.content}</div>\r\n      </div>\r\n    );\r\n  } else if (props.type == 'invite') {\r\n    return (\r\n      <div class='row w-100 userLine'>\r\n        <div class='col-2'>\r\n          <i class='fas fa-user-friends'></i>\r\n        </div>\r\n        <div class='col-4'>{groupchat?.name}</div>\r\n        <div class=' tlacitko col-3'>\r\n          <button\r\n            onClick={acceptInvite}\r\n            class='btn w-100 btnPridat btnPrijmout btn-success'\r\n          >\r\n            <i class='fas fa-check'></i>\r\n          </button>\r\n        </div>\r\n        <div class='tlacitko col-3'>\r\n          <button\r\n            onClick={decline}\r\n            class='btn w-100 btnOdebrat btnOdmitnout btn-gray'\r\n          >\r\n            <i class='fas fa-times'></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport RequestHandler from '../Handlers/RequestHandler';\r\nimport UserController from '../Controllers/UserController';\r\nimport ParameterHandler from '../Handlers/ParameterHandler';\r\nimport Notification from './smallComponents/Notifiaction';\r\nimport { toast } from 'react-toastify';\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nexport default function NotificationsModal(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n  const [notifications, setNotifications] = useState();\r\n  const notificationsRef = useRef(notifications);\r\n  notificationsRef.current = notifications;\r\n  const removeNotification = (key) => {\r\n    setNotifications(\r\n      notificationsRef.current?.filter((item) => {\r\n        return item.props.notId != key;\r\n      })\r\n    );\r\n  };\r\n  const removeNotifacionForUser = (username) => {\r\n    setNotifications(\r\n      notificationsRef.current?.filter((item) => {\r\n        if (item.props.type == 'message' && item.props.user == username) {\r\n          console.log(item.props);\r\n          requestHandler.jSONrequester('Notifications', [\r\n            new ParameterHandler('type', 'REMOVEONE'),\r\n            new ParameterHandler('id', item.props.notId),\r\n          ]);\r\n        }\r\n        return item.props.type != 'message' && item.props.user != username;\r\n      })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    requestHandler\r\n      .jSONrequester('Notifications', [\r\n        new ParameterHandler('type', 'GETNOTIF'),\r\n        new ParameterHandler('user', userController.getUser().username),\r\n      ])\r\n      .then((resultData) => {\r\n        setNotifications((notifications) =>\r\n          resultData.map((data, id) => {\r\n            if (data.type == 'message') {\r\n              return (\r\n                <Notification\r\n                  socket={params.socket}\r\n                  type={'message'}\r\n                  removeNotification={removeNotification}\r\n                  key={id}\r\n                  notId={data.id}\r\n                  user={data.user}\r\n                  content={data.content}\r\n                />\r\n              );\r\n            } else if (data.type == 'invite') {\r\n              return (\r\n                <Notification\r\n                  socket={params.socket}\r\n                  type={'invite'}\r\n                  groupchatID={data.groupchatID}\r\n                  removeNotification={removeNotification}\r\n                  key={id}\r\n                  notId={data.id}\r\n                  user={data.user}\r\n                  content={data.content}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <Notification\r\n                  socket={params.socket}\r\n                  type={'add'}\r\n                  removeNotification={removeNotification}\r\n                  key={id}\r\n                  notId={data.id}\r\n                  addNotification={true}\r\n                  user={data.user}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        );\r\n      });\r\n\r\n    params.socket.on('newNotification', function (data) {\r\n      if (data.reciever == userController.getUser().username) {\r\n        requestHandler\r\n          .jSONrequester('Notifications', [\r\n            new ParameterHandler('type', 'GETNOTIF'),\r\n            new ParameterHandler('user', userController.getUser().username),\r\n          ])\r\n          .then((resultData) => {\r\n            setNotifications(\r\n              resultData.map((data, id) => {\r\n                if (data.type == 'message') {\r\n                  return (\r\n                    <Notification\r\n                      socket={params.socket}\r\n                      type={'message'}\r\n                      removeNotification={removeNotification}\r\n                      key={id}\r\n                      notId={data.id}\r\n                      user={data.user}\r\n                      content={data.content}\r\n                    />\r\n                  );\r\n                } else if (data.type == 'invite') {\r\n                  return (\r\n                    <Notification\r\n                      socket={params.socket}\r\n                      type={'invite'}\r\n                      groupchatID={data.groupchatID}\r\n                      removeNotification={removeNotification}\r\n                      key={id}\r\n                      notId={data.id}\r\n                      user={data.user}\r\n                      content={data.content}\r\n                    />\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <Notification\r\n                      socket={params.socket}\r\n                      type={'add'}\r\n                      removeNotification={removeNotification}\r\n                      key={id}\r\n                      notId={data.id}\r\n                      addNotification={true}\r\n                      user={data.user}\r\n                    />\r\n                  );\r\n                }\r\n              })\r\n            );\r\n          });\r\n      }\r\n    });\r\n\r\n    params.socket.on('removeNotifications', function (data) {\r\n      removeNotifacionForUser(data.user);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Modal contentClassName='modalClasses' show={params.state}>\r\n      <Modal.Header>\r\n        <div class='row w-100'>\r\n          <div class='col-8'>\r\n            <h2>notifikace</h2>\r\n          </div>\r\n          <div class='col-2'></div>\r\n          <div class='col-1 text-right '>\r\n            <button class='btn modalCloseButton' onClick={params.closeModal}>\r\n              <i class='far fa-times-circle'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Body>{notificationsRef.current}</Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n","import RequestHandler from '../../Handlers/RequestHandler';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport UserController from '../../Controllers/UserController';\r\n\r\nexport default function InviteUser(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n  var button = null;\r\n\r\n  const inviteFriend = () => {\r\n    requestHandler\r\n      .jSONrequester('Notifications', [\r\n        new ParameterHandler('type', 'INVITE'),\r\n        new ParameterHandler('user', userController.getUser().username),\r\n        new ParameterHandler('reciever', params.name),\r\n        new ParameterHandler('date', new Date()),\r\n        new ParameterHandler(\r\n          'content',\r\n          'new invite request from ' + userController.getUser().username\r\n        ),\r\n        new ParameterHandler('addNotification', 1),\r\n        new ParameterHandler('groupchatID', params.groupchatID),\r\n      ])\r\n      .then((data) => {\r\n        if (data.state == 'sent') {\r\n          params.socket.emit('notification', {\r\n            reciever: params.name,\r\n            origin: userController.getUser().id,\r\n            type: 'invite',\r\n            content:\r\n              'nová žádost o přátelství od ' +\r\n              userController.getUser().username,\r\n            date: new Date(),\r\n            groupchatID: params.groupchatID,\r\n          });\r\n        }\r\n      });\r\n  };\r\n  if (!params.groupState) {\r\n    button = (\r\n      <div class=' tlacitko col-4'>\r\n        <button onClick={inviteFriend} class='btn btnPridat btn-success'>\r\n          Pozvat\r\n        </button>\r\n      </div>\r\n    );\r\n  } else {\r\n    button = (\r\n      <div class='tlacitko col-4'>\r\n        <button class='btn btnOdebrat btn-gray'>Již v chatu</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div class='row w-100 userLine'>\r\n      <div class='col-8'>{params.name}</div>\r\n      {button}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { useState, useEffect } from 'react';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport UserController from '../../Controllers/UserController';\r\nimport RequestHandler from '../../Handlers/RequestHandler';\r\nimport InviteUser from './InviteUser';\r\n\r\nvar allUsers = [];\r\n\r\nexport default function ModalInviteGroupchat(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n\r\n  const [users, setUsers] = useState();\r\n\r\n  const input = React.createRef();\r\n\r\n  useEffect(() => {\r\n    if (params.groupchatID) {\r\n      requestHandler\r\n        .jSONrequester('User', [new ParameterHandler('type', 'ALL')])\r\n        .then((data) => {\r\n          allUsers = data;\r\n          Promise.all(\r\n            allUsers.map((mapData, id) => {\r\n              return requestHandler\r\n                .jSONrequester('Groupchat', [\r\n                  new ParameterHandler('type', 'IN-CHAT'),\r\n                  new ParameterHandler('id', params.groupchatID),\r\n                  new ParameterHandler('user', mapData.name),\r\n                ])\r\n                .then((state) => {\r\n                  if (mapData.name == userController.getUser().username) return;\r\n\r\n                  return (\r\n                    <InviteUser\r\n                      name={mapData.name}\r\n                      socket={params.socket}\r\n                      groupState={state}\r\n                      groupchatID={params.groupchatID}\r\n                      userId={mapData.id}\r\n                    />\r\n                  );\r\n                });\r\n            })\r\n          ).then((data) => {\r\n            setUsers(data);\r\n            allUsers = data;\r\n          });\r\n        });\r\n    }\r\n  }, [params.groupchatID]);\r\n\r\n  const search = () => {\r\n    setUsers(\r\n      allUsers.filter((data, id) => {\r\n        if (\r\n          data?.props.name\r\n            .toLowerCase()\r\n            .includes(input.current.value.toLowerCase())\r\n        ) {\r\n          return data;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  const searchOnEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n      search(e);\r\n    }\r\n  };\r\n\r\n  const liveSearch = () => {\r\n    setUsers(\r\n      allUsers.filter((data, id) => {\r\n        if (\r\n          data?.props.name\r\n            .toLowerCase()\r\n            .includes(input.current.value.toLowerCase())\r\n        ) {\r\n          return data;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal contentClassName='modalClasses' show={params.state}>\r\n      <Modal.Header>\r\n        <div class='row w-100'>\r\n          <div class='col-8'>\r\n            <h2>Pozvat přátele do prostoru</h2>\r\n          </div>\r\n          <div class='col-2'></div>\r\n          <div class='col-1 text-right '>\r\n            <button class='btn modalCloseButton' onClick={params.closeModal}>\r\n              <i class='far fa-times-circle'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div class='row searchUser w-100 mb-5'>\r\n          <div class='col-8'>\r\n            <input\r\n              type='search'\r\n              class='form-control'\r\n              ref={input}\r\n              onChange={liveSearch}\r\n              onKeyDown={searchOnEnter}\r\n              placeholder='Hledat uživatele'\r\n              aria-label='Search'\r\n            />\r\n          </div>\r\n          <div class='col-4'>\r\n            <button\r\n              type='submit'\r\n              class='form-control '\r\n              onClick={search}\r\n              value=''\r\n              aria-label='Search'\r\n            >\r\n              <i class='fas fa-search'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class='separator'></div>\r\n        {users}\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { useState } from 'react';\r\nimport ParameterHandler from '../../Handlers/ParameterHandler';\r\nimport UserController from '../../Controllers/UserController';\r\nimport RequestHandler from '../../Handlers/RequestHandler';\r\n\r\nexport default function ModalGroupchat(params) {\r\n  const requestHandler = new RequestHandler();\r\n  const userController = new UserController();\r\n\r\n  const [users, setUsers] = useState();\r\n\r\n  const name = React.createRef();\r\n  const color = React.createRef();\r\n\r\n  const create = () => {\r\n    if (name.current.value == '' || color.current.value == '') {\r\n      return;\r\n    }\r\n    var currentColor = color.current.value.replace('#', '');\r\n    requestHandler\r\n      .jSONrequester('Groupchat', [\r\n        new ParameterHandler('type', 'CREATE'),\r\n        new ParameterHandler('name', name.current.value),\r\n        new ParameterHandler('color', currentColor),\r\n        new ParameterHandler('id', userController.getUser().id),\r\n      ])\r\n      .then((data) => {\r\n        params.socket.emit('createGroupchat', {\r\n          name: name.current.value,\r\n          color: currentColor,\r\n          id: userController.getUser().id,\r\n          groupchatID: data.id,\r\n          users: data.users,\r\n          connectedUsers: data.connectedUsers,\r\n        });\r\n        name.current.value = '';\r\n        color.current.value = '';\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal contentClassName='modalClasses' show={params.state}>\r\n      <Modal.Header>\r\n        <div class='row w-100'>\r\n          <div class='col-8'>\r\n            <h2>Vytvořte prostor</h2>\r\n          </div>\r\n          <div class='col-2'></div>\r\n          <div class='col-1 text-right '>\r\n            <button class='btn modalCloseButton' onClick={params.closeModal}>\r\n              <i class='far fa-times-circle'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div class='row searchUser w-100 mb-5'>\r\n          <div class='col-12 mt-5'>\r\n            <input\r\n              type='text'\r\n              class='form-control'\r\n              ref={name}\r\n              placeholder='jméno'\r\n              aria-label='jméno'\r\n              required\r\n            />\r\n          </div>\r\n          <div class='col-12 mt-3'>\r\n            <input\r\n              type='color'\r\n              class='form-control'\r\n              ref={color}\r\n              placeholder='barva'\r\n              aria-label='barva'\r\n              required\r\n            />\r\n          </div>\r\n          <div class='col-3 mt-5 mx-auto'>\r\n            <button\r\n              type='submit'\r\n              class='form-control '\r\n              onClick={create}\r\n              value=''\r\n              aria-label='Vytvořit'\r\n            >\r\n              <i class='far fa-plus-square'></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class='separator'></div>\r\n        {users}\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n","import UserController from \"../Controllers/UserController\";\r\n\r\n\r\nconst userController = new UserController();\r\nexport default function UserListUser(props){\r\n\r\n\r\n    const handleChange = () => userController.getUser().username == props.user ? null : props.handleInputUser(props.user);\r\n\r\n    return(\r\n        <div className=\"text-center userListUser\">\r\n            <a onClick={handleChange}><h5 >{props.user}</h5></a>\r\n        </div>\r\n    );    \r\n    \r\n}","import { useEffect, useState } from \"react\";\r\nimport RequestHandler from '../Handlers/RequestHandler';\r\nimport ParameterHandler from '../Handlers/ParameterHandler';\r\nimport UserController from \"../Controllers/UserController\";\r\nimport UserListUser from \"./UserListUser\";\r\n\r\nconst userController = new UserController();\r\nconst requestHandler = new RequestHandler(\"http://localhost/Github/BeepSpace/BeepSpaceAPI/beepSpaceAPI/www/\");\r\nvar listbarUsers = [];\r\nexport default function UserList(props) {\r\n  const [listbarUsers, setListbarUsers] = useState();\r\n\r\n\r\n  useEffect(() => {\r\n    var userArray;\r\n    requestHandler.jSONrequester(\"Groupchat\", [\r\n      new ParameterHandler(\"type\", \"GET-GROUPCHAT\"),\r\n      new ParameterHandler(\"id\", props.groupchatID)\r\n    ]).then((data)=>{\r\n      userArray = Array.from(data.users.split(\",\"));\r\n    }).then(()=>{\r\n      Promise.all(userArray.map((data, id) => {\r\n        return requestHandler.jSONrequester(\"User\", [\r\n          new ParameterHandler(\"type\", \"ONE-BY-ID\"),\r\n          new ParameterHandler(\"id\", data)\r\n        ]).then((data)=>{\r\n         return <UserListUser handleInputUser={props.handleInputUser} key={id} user={data.name} />\r\n        })\r\n      })).then((data)=>{\r\n        setListbarUsers(data);\r\n      })\r\n    });\r\n\r\n    \r\n  }, [props.groupchatID])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    props.socket.on(\"addUserToGroupchat\", (data) => {\r\n      console.log('sff');\r\n      if (data.channelID == props.groupchatID) {\r\n        setListbarUsers(listbarUsers => [...listbarUsers, <UserListUser handleInputUser={props.handleInputUser} user={data.user} />])\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"userList\">\r\n      <div className=\"nadpis text-center\">\r\n        <h2>Seznam uživatelů</h2>\r\n      </div>\r\n      {listbarUsers}\r\n\r\n\r\n    </div>\r\n  );\r\n}","import './App.css';\r\nimport $ from 'jquery';\r\nimport Sidebar from './components/sidebar';\r\nimport ChatHandler from './Handlers/ChatHandler';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport UserController from './Controllers/UserController';\r\nimport ParameterHandler from './Handlers/ParameterHandler';\r\nimport RequestHandler from './Handlers/RequestHandler';\r\nimport MessageController from './Controllers/MessageController';\r\nimport TextInput from './components/smallComponents/chatComponents/TextInput';\r\nimport { io } from 'socket.io-client';\r\nimport Message from './components/smallComponents/chatComponents/message';\r\nimport FriendModal from './components/smallComponents/chatComponents/modal';\r\nimport NotificationsModal from './components/NotificationsModal';\r\nimport ModalInviteGroupchat from './components/smallComponents/modalInviteGroupchat';\r\nimport ModalGroupchat from './components/smallComponents/modalGroupchat';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport UserList from './components/UserList';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst requestHandler = new RequestHandler();\r\nconst userController = new UserController();\r\n\r\nvar messageController = null;\r\n\r\nvar userHolder = '';\r\nvar index = 0;\r\nlet indexForRecieve = 1;\r\nvar groupchatId;\r\nvar socket;\r\nlet soundChunks = [];\r\nvar soundBlob;\r\nif (userController.isLoggedIn()) {\r\n  socket = io('https://beepspace-app.ey.r.appspot.com');\r\n}\r\n\r\nfunction App() {\r\n  //check basic parameters for site\r\n  checkIfReady();\r\n  //connection to socket\r\n  messageController = new MessageController(socket);\r\n  socket.on('connect', () => {\r\n    if (userController.isLoggedIn()) {\r\n      socket.emit('userJoin', {\r\n        user: userController.getUser().username,\r\n        id: userController.getUser().id,\r\n      });\r\n      requestHandler.jSONrequester('User', [\r\n        new ParameterHandler('type', 'SET-ONLINE'),\r\n        new ParameterHandler('id', userController.getUser().id),\r\n      ]);\r\n    }\r\n  });\r\n  socket.on('disconnect', () => {\r\n    requestHandler.jSONrequester('User', [\r\n      new ParameterHandler('type', 'SET-OFFLINE'),\r\n      new ParameterHandler('id', userController.getUser().id),\r\n    ]);\r\n  });\r\n\r\n  //useStates for chat and chat settings\r\n  const [chatUser, setChatUser] = useState();\r\n  const [messages, setMessages] = useState([]);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [NModalShow, setNModalShow] = useState(false);\r\n  const [inviteModalShow, setInviteModalShow] = useState(false);\r\n  const [createModalShow, setCreateModalShow] = useState(false);\r\n  const [isGroupchat, setIsGroupchat] = useState(false);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [muted, setMuted] = useState(false);\r\n  const chatUserRef = useRef(chatUser);\r\n  chatUserRef.current = chatUser;\r\n  const mutedRef = useRef(muted);\r\n  const isConnectedRef = useRef(isConnected);\r\n  isConnectedRef.current = isConnected;\r\n  mutedRef.current = muted;\r\n\r\n  useEffect(() => {\r\n    setInterval(async () => {\r\n      socket.emit('heartbeat');\r\n    }, 249);\r\n    console.log('init');\r\n    navigator.mediaDevices.getUserMedia({ audio: true }).then((data) => {\r\n      var mediaRecorder = new MediaRecorder(data);\r\n\r\n      mediaRecorder.onstart = function (e) {\r\n        soundChunks = [];\r\n      };\r\n      mediaRecorder.ondataavailable = function (e) {\r\n        soundChunks.push(e.data);\r\n      };\r\n      mediaRecorder.onstop = function (e) {\r\n        var blob = new Blob(soundChunks, { type: 'audio/ogg; codecs=opus' });\r\n        socket.emit('radio', blob);\r\n      };\r\n\r\n      // Start recording\r\n      mediaRecorder.start();\r\n      setInterval(function () {\r\n        if (isConnectedRef.current && !mutedRef.current) {\r\n          if (mediaRecorder.state == 'inactive') {\r\n            mediaRecorder.start();\r\n            setTimeout(() => {}, 500);\r\n          }\r\n\r\n          mediaRecorder.stop();\r\n          mediaRecorder.start();\r\n        } else {\r\n          if (mediaRecorder.state == 'recording') {\r\n            mediaRecorder.stop();\r\n          }\r\n        }\r\n      }, 500);\r\n    });\r\n\r\n    socket.on('voice', function (arrayBuffer) {\r\n      if (isConnectedRef.current) {\r\n        soundBlob = new Blob([arrayBuffer], { type: 'audio/ogg; codecs=opus' });\r\n        var audio = new Audio(window.URL.createObjectURL(soundBlob));\r\n        audio.play();\r\n      }\r\n    });\r\n\r\n    socket.on('pickCall', (data) => {\r\n      if (data.name == userController.getUser().username) {\r\n        soundBlob = null;\r\n        setIsConnected(true);\r\n      }\r\n    });\r\n    socket.on('leaveCall', (data) => {\r\n      if (data.name == userController.getUser().username) {\r\n        soundBlob = null;\r\n        setIsConnected(false);\r\n      }\r\n    });\r\n    socket.on('mute', (data) => {\r\n      if (data.name == userController.getUser().username) {\r\n        soundBlob = null;\r\n        setMuted(true);\r\n      }\r\n    });\r\n    socket.on('unmute', (data) => {\r\n      if (data.name == userController.getUser().username) {\r\n        soundBlob = null;\r\n        setMuted(false);\r\n      }\r\n    });\r\n\r\n    socket.on('newNotification', function (data) {\r\n      if (data.reciever == userController.getUser().username) {\r\n        if (data.type == 'message') {\r\n          if (data.origin == chatUserRef.current) return;\r\n          toast('📨 nová zpráva od ' + data.origin + '!', {\r\n            position: 'bottom-right',\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            theme: 'dark',\r\n          });\r\n        } else if (data.type == 'invite') {\r\n          toast(' 🗂️ nová pozvánka do ' + data.content + '!', {\r\n            position: 'bottom-right',\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            theme: 'dark',\r\n          });\r\n        } else {\r\n          toast(data.content, {\r\n            position: 'bottom-right',\r\n            autoClose: 2000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            theme: 'dark',\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // function to handle sidebar user click\r\n  const handleInputUser = (inputValue) => {\r\n    setIsGroupchat(false);\r\n    setChatUser(inputValue);\r\n    requestHandler.jSONrequester('Groupchat', [\r\n      new ParameterHandler('type', 'REMOVE-ACTIVE-USER'),\r\n      new ParameterHandler('name', userController.getUser().username),\r\n    ]);\r\n    socket.emit('disconnectChanel', {\r\n      channelID: groupchatId,\r\n      user: userController.getUser().username,\r\n    });\r\n    groupchatId = null;\r\n    socket.emit('chatOpen', {\r\n      user: inputValue,\r\n    });\r\n  };\r\n\r\n  const setModalState = () => {\r\n    setModalShow(!modalShow);\r\n  };\r\n  const setAnotherModal = () => {\r\n    setNModalShow(!NModalShow);\r\n  };\r\n\r\n  const setCreateModalState = () => {\r\n    setCreateModalShow(!createModalShow);\r\n  };\r\n  const setInviteModalState = () => {\r\n    setInviteModalShow(!inviteModalShow);\r\n  };\r\n  window.onfocus = function () {\r\n    socket.emit('userJoin', {\r\n      user: userController.getUser().username,\r\n      id: userController.getUser().id,\r\n    });\r\n    requestHandler.jSONrequester('User', [\r\n      new ParameterHandler('type', 'SET-ONLINE'),\r\n      new ParameterHandler('id', userController.getUser().id),\r\n    ]);\r\n  };\r\n\r\n  window.onblur = function () {\r\n    requestHandler.jSONrequester('User', [\r\n      new ParameterHandler('type', 'SET-PAUSE'),\r\n      new ParameterHandler('id', userController.getUser().id),\r\n    ]);\r\n    socket.emit('userPause', {\r\n      user: userController.getUser().username,\r\n    });\r\n  };\r\n\r\n  //function for sending data to database and to socket\r\n  const sendMessage = (content) => {\r\n    socket.emit('message2', {\r\n      origin: userController.getUser().username,\r\n      reciever: chatUser,\r\n      content: content,\r\n      index: index,\r\n    });\r\n    index++;\r\n    setMessages((messages) => [\r\n      ...messages,\r\n      <Message content={content} owner={true} last={true} />,\r\n    ]);\r\n    messageController.sendMessage(content, chatUser);\r\n  };\r\n\r\n  //prevent from user refreshing after click\r\n  if (userHolder != chatUser && chatUser) {\r\n    userHolder = chatUser;\r\n    if (isGroupchat) {\r\n      getChatMessages(userController.getUser().username, groupchatId).then(\r\n        (data) => {\r\n          setMessages(data);\r\n        }\r\n      );\r\n    } else {\r\n      groupchatId = null;\r\n      getMessages(userController.getUser().username, chatUser).then((data) => {\r\n        setMessages(data);\r\n      });\r\n    }\r\n  }\r\n\r\n  const sendGroupchatMessage = (content) => {\r\n    setMessages((messages) => [\r\n      ...messages,\r\n      <Message content={content} owner={true} last={true} />,\r\n    ]);\r\n    messageController.sendGroupchatMessage(content, chatUser);\r\n  };\r\n\r\n  //socket rerender data\r\n  socket.on('message2', function (data) {\r\n    if (data.index != indexForRecieve) {\r\n      if (\r\n        data.origin == chatUser &&\r\n        data.reciever == userController.getUser().username\r\n      ) {\r\n        if (chatUser != null && messages != null) {\r\n          setMessages((messages) => [\r\n            ...messages,\r\n            <Message content={data.message} owner={false} last={true} />,\r\n          ]);\r\n          indexForRecieve = data.index;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleInputGroupchat = (groupchatID, groupchatName) => {\r\n    setIsGroupchat(true);\r\n    requestHandler\r\n      .jSONrequester('Groupchat', [\r\n        new ParameterHandler('type', 'REMOVE-ACTIVE-USER'),\r\n        new ParameterHandler('name', userController.getUser().username),\r\n      ])\r\n      .then(() => {\r\n        groupchatId = groupchatID;\r\n        setChatUser(groupchatName);\r\n        requestHandler\r\n          .jSONrequester('Groupchat', [\r\n            new ParameterHandler('type', 'ADD-ACTIVE-USER'),\r\n            new ParameterHandler('id', groupchatID),\r\n            new ParameterHandler('name', userController.getUser().username),\r\n          ])\r\n          .then(() => {\r\n            socket.emit('disconnectChanel', {\r\n              channelID: groupchatName,\r\n              user: userController.getUser().username,\r\n            });\r\n            socket.emit('joinChanel', {\r\n              channelID: groupchatName,\r\n              user: userController.getUser().username,\r\n            });\r\n          });\r\n      });\r\n  };\r\n\r\n  const renderChat = () => {\r\n    if (groupchatId != null) {\r\n      return (\r\n        <div class='h-100 row'>\r\n          <div class='col col-md-9 h-100'>\r\n            <ChatHandler\r\n              messages={messages}\r\n              chatUser={chatUser}\r\n              openInviteModal={setInviteModalState}\r\n              isChatGroupchat={isGroupchat}\r\n            />\r\n            <TextInput\r\n              chatUser={chatUser}\r\n              sendMessageFunction={sendMessage}\r\n              isChatMessage={isGroupchat}\r\n              sendGroupchatMessage={sendGroupchatMessage}\r\n            />\r\n          </div>\r\n          <div class=' col-md-3 h-100'>\r\n            <UserList\r\n              handleInputUser={handleInputUser}\r\n              socket={socket}\r\n              groupchatID={groupchatId}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div class='h-100'>\r\n        <ChatHandler\r\n          messages={messages}\r\n          socket={socket}\r\n          chatUser={chatUser}\r\n          handleInputUser={handleInputUser}\r\n          openInviteModal={setInviteModalState}\r\n          isChatGroupchat={isGroupchat}\r\n        />\r\n        <TextInput\r\n          chatUser={chatUser}\r\n          sendMessageFunction={sendMessage}\r\n          isChatMessage={isGroupchat}\r\n          sendGroupchatMessage={sendGroupchatMessage}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //rendering app\r\n  return (\r\n    <div class='mainContainer'>\r\n      <ToastContainer\r\n        position='top-right'\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n      {checkIfReady()}\r\n      <div id='main' class='text-center'>\r\n        <a class='sidebar-toggle-btn trigger-toggle-sidebar'>\r\n          <span class='line'></span>\r\n          <span class='line'></span>\r\n          <span class='line'></span>\r\n          <span class='line line-angle1'></span>\r\n          <span class='line line-angle2'></span>\r\n        </a>\r\n\r\n        {renderChat()}\r\n      </div>\r\n\r\n      <Sidebar\r\n        setModalShow={setModalState}\r\n        setNModalShow={setAnotherModal}\r\n        setCModalShow={setCreateModalState}\r\n        socket={socket}\r\n        handleInputUser={handleInputUser}\r\n        handleInputGroupchat={handleInputGroupchat}\r\n        isGroupchat={isGroupchat}\r\n        activeUser={chatUser}\r\n      ></Sidebar>\r\n      <FriendModal\r\n        closeModal={setModalState}\r\n        socket={socket}\r\n        state={modalShow}\r\n      />\r\n      <NotificationsModal\r\n        socket={socket}\r\n        closeModal={setAnotherModal}\r\n        state={NModalShow}\r\n      />\r\n      <ModalInviteGroupchat\r\n        groupchatID={groupchatId}\r\n        socket={socket}\r\n        closeModal={setInviteModalState}\r\n        state={inviteModalShow}\r\n      />\r\n      <ModalGroupchat\r\n        closeModal={setCreateModalState}\r\n        state={createModalShow}\r\n        socket={socket}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction checkIfReady() {\r\n  if (\r\n    !userController.isLoggedIn() &&\r\n    window.location.pathname != '/login' &&\r\n    window.location.pathname != '/register'\r\n  ) {\r\n    window.location.replace('/login');\r\n  }\r\n}\r\n\r\nfunction getChatMessages(user, groupchatID) {\r\n  return requestHandler\r\n    .jSONrequester('Message', [\r\n      new ParameterHandler('user', user),\r\n      new ParameterHandler('chatId', groupchatID),\r\n      new ParameterHandler('isChatMessage', 1),\r\n    ])\r\n    .then((data) => {\r\n      return messageController.returnAllMesages(data).then((data) => {\r\n        return data;\r\n      });\r\n    });\r\n}\r\n\r\nfunction getMessages(user, reciever) {\r\n  return requestHandler\r\n    .jSONrequester('Message', [\r\n      new ParameterHandler('user', user),\r\n      new ParameterHandler('reciever', reciever),\r\n    ])\r\n    .then((data) => {\r\n      return messageController.returnAllMesages(data);\r\n    });\r\n}\r\n\r\n$(document).ready(function ($) {\r\n  var cols = {},\r\n    messageIsOpen = false;\r\n\r\n  cols.showSidebar = function () {\r\n    $('body').addClass('show-sidebar');\r\n  };\r\n  cols.hideSidebar = function () {\r\n    $('body').removeClass('show-sidebar');\r\n  };\r\n\r\n  $('.trigger-toggle-sidebar').on('click', function () {\r\n    if (!$('body').hasClass('show-sidebar')) {\r\n      cols.showSidebar();\r\n    } else {\r\n      cols.hideSidebar();\r\n    }\r\n  });\r\n\r\n  $('.crossIcon').on('click', function () {\r\n    cols.hideSidebar();\r\n  });\r\n\r\n  if ($('body').hasClass('show-sidebar')) {\r\n    $('#main').on('click', function () {\r\n      cols.hideSidebar();\r\n    });\r\n  }\r\n});\r\n\r\nexport default App;\r\n","function Filter(pararms){\r\n\r\n    const imageStyle={\r\n        background: \"url(\"+pararms.backgroundImage+\")\"\r\n    }\r\n    const filterStyle = {\r\n        backgroundColor: pararms.filterColor\r\n    }\r\n    return (\r\n        <div className=\"background\">\r\n            <div class=\"image\" style={imageStyle}></div>\r\n            <div class=\"filter\" style={filterStyle}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Filter;","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAstroLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"670.000000pt\",\n    height: \"373.000000pt\",\n    viewBox: \"0 0 670.000000 373.000000\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(0.000000,373.000000) scale(0.100000,-0.100000)\",\n    fill: \"#FFFFFF\",\n    stroke: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFFFF\"\n    },\n    d: \"M3090 3515 c-179 -38 -226 -53 -344 -111 -110 -54 -176 -104 -266 -201 -67 -72 -160 -210 -160 -237 0 -15 -21 -26 -51 -26 -25 0 -92 -35 -157 -83 -34 -24 -69 -63 -96 -105 -80 -127 -76 -85 -76 -830 l0 -662 -23 -38 c-66 -106 -107 -283 -107 -460 0 -90 3 -110 25 -157 80 -168 398 -306 840 -364 326 -43 324 -43 716 -39 231 3 416 9 464 17 44 6 118 16 165 22 88 11 189 29 300 56 292 70 483 178 545 308 22 47 25 67 25 157 0 177 -41 354 -107 460 l-23 38 0 665 c0 585 -2 670 -16 707 -19 51 -47 111 -54 118 -3 3 -16 20 -29 38 -39 55 -185 152 -230 152 -32 0 -51 11 -51 30 0 11 -4 21 -9 24 -5 3 -19 25 -31 48 -46 90 -151 207 -256 286 -111 83 -298 155 -483 186 -118 20 -417 20 -511 1z m447 -115 c159 -21 315 -69 393 -121 8 -5 23 -12 33 -15 9 -4 17 -10 17 -14 0 -5 9 -12 21 -15 58 -19 205 -189 264 -304 120 -238 149 -586 74 -891 -19 -78 -77 -222 -116 -289 -46 -79 -154 -196 -203 -221 -68 -35 -125 -110 -195 -257 -36 -76 -71 -148 -77 -161 l-11 -22 -401 2 -401 3 -27 55 c-15 30 -53 108 -84 172 -58 122 -80 149 -204 258 -102 89 -165 187 -222 345 -91 250 -103 558 -33 820 84 315 304 534 623 621 147 40 387 55 549 34z m-1307 -690 c-80 -365 -15 -786 163 -1057 26 -39 54 -76 62 -83 22 -18 18 -30 -9 -30 -54 0 -257 -79 -344 -134 l-43 -27 3 598 c3 661 1 638 69 727 29 38 107 101 115 93 2 -1 -6 -41 -16 -87z m2312 26 c21 -21 45 -51 55 -69 41 -80 43 -109 43 -710 l0 -577 -42 27 c-87 54 -290 133 -344 133 -27 0 -31 12 -9 30 30 25 110 157 147 245 121 277 146 673 61 968 -4 17 -3 17 24 4 15 -8 45 -31 65 -51z m-1904 -1338 c17 -18 62 -98 100 -178 l69 -145 -38 -37 c-21 -20 -42 -54 -48 -75 -7 -23 -11 -153 -11 -322 l0 -283 -32 6 c-18 4 -71 13 -117 21 -296 52 -537 149 -597 240 -27 41 -32 87 -23 221 9 150 34 239 94 328 86 130 335 249 531 255 33 1 46 -5 72 -31z m1610 17 c156 -37 338 -133 396 -209 74 -98 104 -194 115 -374 9 -131 2 -202 -19 -202 -6 0 -10 -7 -10 -15 0 -8 -4 -15 -8 -15 -5 0 -17 -8 -28 -18 -75 -70 -311 -154 -555 -197 -46 -8 -99 -17 -116 -21 l-33 -6 0 283 c0 162 -4 300 -10 321 -10 36 -45 79 -87 108 l-21 15 43 94 c55 119 107 200 148 229 38 26 93 29 185 7z m-425 -457 c46 -24 46 -29 47 -325 l0 -283 -22 -4 c-47 -10 -359 -26 -498 -26 -139 0 -451 16 -497 26 l-23 4 0 283 c1 294 1 300 45 325 29 16 917 17 948 0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#0ff8fc98\"\n    },\n    d: \"M3120 3015 c-8 -2 -58 -9 -110 -15 -149 -19 -287 -62 -365 -113 -53 -35 -125 -111 -160 -167 -18 -30 -46 -98 -61 -150 -26 -88 -28 -109 -28 -275 -1 -195 7 -245 65 -388 93 -232 294 -420 529 -497 122 -39 199 -50 360 -50 161 0 239 11 360 51 248 81 451 277 539 521 52 143 55 165 55 358 0 173 -2 191 -28 280 -52 178 -150 294 -306 360 -147 62 -279 81 -585 85 -137 2 -257 2 -265 0z m477 -286 c22 -43 -6 -89 -56 -89 -73 0 -82 99 -11 122 24 8 54 -7 67 -33z m-815 -390 c82 -36 132 -34 206 7 63 35 124 33 169 -6 18 -16 44 -30 56 -30 13 0 34 -13 49 -30 39 -45 91 -45 197 0 39 17 82 30 96 30 14 0 58 14 97 30 88 37 136 39 176 5 53 -44 120 -41 161 9 22 27 92 20 137 -12 63 -46 70 -67 55 -171 -49 -348 -252 -577 -591 -668 -92 -24 -387 -24 -480 0 -340 90 -543 320 -591 670 -14 103 -7 123 55 169 54 39 115 38 208 -3z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAstroLogo);\nexport default __webpack_public_path__ + \"static/media/astroLogo.a3378815.svg\";\nexport { ForwardRef as ReactComponent };","import Filter from './components/Filter';\r\nimport { ReactComponent as Logo } from './storage/images/astroLogo.svg';\r\nimport ParameterHandler from './Handlers/ParameterHandler';\r\nimport RequestHandler from './Handlers/RequestHandler';\r\nimport $ from 'jquery';\r\nimport { sha256 } from 'js-sha256';\r\nimport UserController from './Controllers/UserController';\r\n\r\nconst requestHandler = new RequestHandler();\r\nconst userController = new UserController();\r\nfunction Login() {\r\n  return (\r\n    <div className='loginApp'>\r\n      <Filter\r\n        filterColor='#000000'\r\n        backgroundImage='https://images.hdqwalls.com/download/astronaut-waving-hand-minimal-4k-du-1280x800.jpg'\r\n      ></Filter>\r\n      <div class='global-container justify-content-center mx-auto'>\r\n        <div class='card card-login login-form'>\r\n          <div class='card-body'>\r\n            <a class='navbar-brand-login text-center' href=''>\r\n              <div class='mx-auto beepLogo'>\r\n                <Logo></Logo>\r\n              </div>\r\n            </a>\r\n            <div class='text-center'>\r\n              <h1>\r\n                <div class='row mx-auto text-center'>\r\n                  <div className='beep ml-auto'>Beep</div>\r\n                  <div className='mr-auto'>Space</div>\r\n                </div>\r\n              </h1>\r\n            </div>\r\n            <div class='card-text'>\r\n              <div\r\n                class='alert alert-danger alert-dismissible fade'\r\n                id='wrongCredetials'\r\n                role='alert'\r\n              >\r\n                Špatné jméno nebo heslo.\r\n              </div>\r\n              <form method='post' onSubmit={handleLogin}>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputEmail1'>Jméno</label>\r\n                  <input\r\n                    type='text'\r\n                    class='form-control form-control-sm'\r\n                    name='SESSION_USER'\r\n                    id='loginUsername'\r\n                    aria-describedby='emailHelp'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputPassword1'>Heslo</label>\r\n                  <input\r\n                    type='password'\r\n                    class='form-control form-control-sm'\r\n                    name='PASSWORD'\r\n                    id='loginPassword'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n\r\n                <div className='text-center'>\r\n                  Nemáte účet? Registrujte se\r\n                  <a class='text-center' href='../register'>\r\n                    {' '}\r\n                    zde\r\n                  </a>\r\n                </div>\r\n\r\n                <button type='submit' class='btn btn-edit btn-block'>\r\n                  Přihlásit\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction handleLogin(event) {\r\n  event.preventDefault();\r\n\r\n  requestHandler\r\n    .jSONrequester('User', [\r\n      new ParameterHandler('username', $('#loginUsername').val()),\r\n      new ParameterHandler('password', sha256($('#loginPassword').val())),\r\n    ])\r\n    .then((data) => {\r\n      if (data.state == 'WRONG') {\r\n        $('#wrongCredetials').removeClass('fade');\r\n        return;\r\n      } else {\r\n        userController.logIn(\r\n          data.name,\r\n          data.email,\r\n          data.number,\r\n          data.birth,\r\n          data.id\r\n        );\r\n      }\r\n    });\r\n}\r\n\r\nexport default Login;\r\n","import Filter from './components/Filter';\r\nimport { ReactComponent as Logo } from './storage/images/astroLogo.svg';\r\nimport $ from 'jquery';\r\nimport RequestHandler from './Handlers/RequestHandler';\r\nimport sha256 from 'js-sha256';\r\nimport ParameterHandler from './Handlers/ParameterHandler';\r\nconst requestHandler = new RequestHandler();\r\n\r\nfunction Register() {\r\n  return (\r\n    <div className='loginApp'>\r\n      <Filter\r\n        filterColor='#000000'\r\n        backgroundImage='https://images.hdqwalls.com/download/astronaut-waving-hand-minimal-4k-du-1280x800.jpg'\r\n      ></Filter>\r\n      <div class='global-container justify-content-center mx-auto'>\r\n        <div class='card card-login login-form'>\r\n          <div class='card-body'>\r\n            <a class='navbar-brand-login text-center' href=''>\r\n              <div class='mx-auto beepLogo'>\r\n                <Logo></Logo>\r\n              </div>\r\n            </a>\r\n            <div class='text-center'>\r\n              <h1>\r\n                <div class='row mx-auto text-center'>\r\n                  <div className='beep ml-auto'>Beep</div>\r\n                  <div className='mr-auto'>Space</div>\r\n                </div>\r\n              </h1>\r\n              <h3>\r\n                <div class='row mx-auto mt-5 text-center'>\r\n                  <div className='ml-auto mr-2'>Registrovat </div>\r\n                  <div className='mr-auto'>se</div>\r\n                </div>\r\n              </h3>\r\n            </div>\r\n            <div class='card-text'>\r\n              <div\r\n                class='alert alert-danger alert-dismissible fade'\r\n                id='userExists'\r\n                role='alert'\r\n              >\r\n                Uživatel Již existuje\r\n              </div>\r\n              <div\r\n                class='alert alert-danger alert-dismissible fade'\r\n                id='emptyCredentials'\r\n                role='alert'\r\n              >\r\n                Vynechané jméno nebo heslo.\r\n              </div>\r\n              <div\r\n                class='alert alert-danger alert-dismissible fade'\r\n                id='wrongPass'\r\n                role='alert'\r\n              >\r\n                Hesla se neshododují\r\n              </div>\r\n\r\n              <form method='post' onSubmit={handleThis}>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputUsername1'>Uživatelské jméno</label>\r\n                  <input\r\n                    type='text'\r\n                    class='form-control form-control-sm'\r\n                    name='USER'\r\n                    id='exampleInputUsername1'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputEmail1'>E-mail</label>\r\n                  <input\r\n                    type='text'\r\n                    class='form-control form-control-sm'\r\n                    name='EMAIL'\r\n                    id='exampleInputEmail1'\r\n                    aria-describedby='emailHelp'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputPassword1'>Heslo</label>\r\n                  <input\r\n                    type='password'\r\n                    class='form-control form-control-sm'\r\n                    name='PASSWORD'\r\n                    id='exampleInputPassword1'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputPassword2'>Potvrdit heslo</label>\r\n                  <input\r\n                    type='password'\r\n                    class='form-control form-control-sm'\r\n                    name='CONFIRM_PASSWORD'\r\n                    id='exampleInputPassword2'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputNumber1'>Telefonní číslo</label>\r\n                  <input\r\n                    type='number'\r\n                    class='form-control form-control-sm'\r\n                    name='USER'\r\n                    id='exampleInputNumber1'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n                <div class='form-group'>\r\n                  <label for='exampleInputDate'>Datum narození</label>\r\n                  <input\r\n                    type='date'\r\n                    class='form-control form-control-sm'\r\n                    name='DATUM'\r\n                    id='exampleInputDate'\r\n                    required\r\n                  ></input>\r\n                </div>\r\n\r\n                <div className='text-center'>\r\n                  Již máte účet? Přihlašte se\r\n                  <a class='text-center' href='../login'>\r\n                    {' '}\r\n                    zde\r\n                  </a>\r\n                </div>\r\n\r\n                <button type='submit' class='btn btn-edit btn-block'>\r\n                  Registrovat\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction handleThis(event) {\r\n  event.preventDefault();\r\n\r\n  if ($('#exampleInputPassword1').val() != $('#exampleInputPassword2').val()) {\r\n    $('#wrongPass').removeClass('fade');\r\n    return;\r\n  }\r\n\r\n  requestHandler\r\n    .jSONrequester('User', [\r\n      new ParameterHandler('username', $('#exampleInputUsername1').val()),\r\n      new ParameterHandler(\r\n        'password',\r\n        sha256($('#exampleInputPassword1').val())\r\n      ),\r\n      new ParameterHandler('email', $('#exampleInputEmail1').val()),\r\n      new ParameterHandler('number', $('#exampleInputNumber1').val()),\r\n      new ParameterHandler('birth', $('#exampleInputDate').val()),\r\n      new ParameterHandler('type', 'REGISTRATION'),\r\n    ])\r\n    .then((data) => {\r\n      if (data.state == 'USER_EXIST') {\r\n        $('#userExists').removeClass('fade');\r\n        return;\r\n      } else {\r\n        relocate('/login');\r\n      }\r\n    });\r\n}\r\n\r\nfunction relocate(location) {\r\n  window.location.replace(location);\r\n}\r\n\r\nexport default Register;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { StrictMode } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Switch>\r\n      <Route exact path=\"/\" component={App} />\r\n      <Route exact path=\"/login\" component={Login} />\r\n      <Route exact path=\"/register\" component={Register} />\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}